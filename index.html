<!DOCTYPE html>
<html lang="th">

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

    








<meta name="title" content="FSDSS-738 [Reduicing Mosaic] - ZIXZO OTT & IPTV" />
<meta name="keywords" content="fsdss-738,[reduicing,mosaic].mp4" />
<meta name="description" content="FSDSS-738 [Reduicing Mosaic]    After Losing His Beloved Wife, He Is Overcome With Loneliness And Ends Up Having Sex With His Sister-in-law Many Times... Amatsuka Moe" />




    
        <meta name="thumbnail" content="https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/files/thumbs/2025/03/19/1742368233acjUkWkc9d-original-1.jpg" />
    
    <link href="https://zixzorash.vodlix.cloud/styles/default/theme/css/bootstrap.min.css?cbuster=1742365165" rel="stylesheet">
<link href="https://zixzorash.vodlix.cloud/styles/default/theme/css/materialdesignicons.min.css?cbuster=1742365165" rel="stylesheet">
<!-- <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet"> -->
<link href="https://zixzorash.vodlix.cloud/styles/default/theme/css/vodlix.css?cbuster=1742365165" rel="stylesheet">
<script src="https://kit.fontawesome.com/5bc03afb29.js" crossorigin="anonymous" defer></script>
<!-- <script src="https://zixzorash.vodlix.cloud/styles/default/theme/js/fontawesome.js?cbuster=1742365165" defer></script> -->
<!-- Custom Css File Include -->

<!-- Custom Css File Include -->
<link href="https://zixzorash.vodlix.cloud/styles/default/theme/css/swiper-bundle.min.css?cbuster=1742365165" rel="stylesheet">
<link href="https://zixzorash.vodlix.cloud/styles/default/theme/css/datePicker.css?cbuster=1742365165" rel="stylesheet">

            <link rel="canonical" href="https://zixzorash.vodlix.cloud/movies/119/fsdss-738-reduicing-mosaic" />
    

<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "url": "https://zixzorash.vodlix.cloud",
        "logo": "https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/images/branding/custom/mobile_web_header.png?lu=1739540888"
    }
</script>

        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "VideoObject",
            "name": "FSDSS-738 [Reduicing Mosaic]",
            "duration" : "PT2H5M8S",
            "description": "FSDSS-738 [Reduicing Mosaic]

After Losing His Beloved Wife, He Is Overcome With Loneliness And Ends Up Having Sex With His Sister-in-law Many Times... Amatsuka Moe",
            "thumbnailUrl": [
                "https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/files/thumbs/2025/03/19/1742368233acjUkWkc9d-original-1.jpg"
            ],
                        
            "uploadDate": "2025-03-19 07:10:33",
            "embedUrl": "https://zixzorash.vodlix.cloud/movies/119/fsdss-738-reduicing-mosaic",
            "interactionStatistic": {
                "@type": "InteractionCounter",
                "interactionType": { "@type": "WatchAction" },
                "userInteractionCount": 3
            }
        }
    </script>





    <meta property="og:url" content="https://zixzorash.vodlix.cloud/movies/119/fsdss-738-reduicing-mosaic">
    <meta property="og:title" content="FSDSS-738 [Reduicing Mosaic] - ZIXZO OTT & IPTV">
    <meta property="og:description" content="FSDSS-738 [Reduicing Mosaic]    After Losing His Beloved Wife, He Is Overcome With Loneliness And Ends Up Having Sex With His Sister-in-law Many Times... Amatsuka Moe">
    <meta property="og:type" content="video">
    <meta property="og:image" content="https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/files/thumbs/2025/03/19/1742368233acjUkWkc9d-original-1.jpg">
    <meta property="og:video" content="https://zixzorash.vodlix.cloud/movies/119/fsdss-738-reduicing-mosaic">
    <meta property="og:video:width" content="1920">
    <meta property="og:video:height" content="1080">
    <meta property="og:site_name" content="ZIXZO OTT &amp; IPTV">

    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="FSDSS-738 [Reduicing Mosaic] - ZIXZO OTT & IPTV">
    <meta itemprop="description" content="FSDSS-738 [Reduicing Mosaic]    After Losing His Beloved Wife, He Is Overcome With Loneliness And Ends Up Having Sex With His Sister-in-law Many Times... Amatsuka Moe">
    <meta itemprop="image" content="https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/files/thumbs/2025/03/19/1742368233acjUkWkc9d-original-1.jpg">

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="player">
    <meta name="twitter:title" content="FSDSS-738 [Reduicing Mosaic] - ZIXZO OTT & IPTV">
    <meta name="twitter:description" content="FSDSS-738 [Reduicing Mosaic]    After Losing His Beloved Wife, He Is Overcome With Loneliness And Ends Up Having Sex With His Sister-in-law Many Times... Amatsuka Moe">
    <meta name="twitter:image" content="https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/files/thumbs/2025/03/19/1742368233acjUkWkc9d-original-1.jpg">

    <!-- Open Graph data -->
    


<script src="https://zixzorash.vodlix.cloud/js/jquery.js?cbuster=1742365165"></script>
<script src="https://zixzorash.vodlix.cloud/styles/default/theme/js/popper.js?cbuster=1742365165"></script>
    <script src="https://zixzorash.vodlix.cloud/styles/default/theme/js/bootstrap.min.js?cbuster=1742365165"></script>
<script src="https://zixzorash.vodlix.cloud/js/jquery-cookie.js?cbuster=1742365165"></script>
<script src="https://zixzorash.vodlix.cloud/js/dayjs.min.js?cbuster=1742365165" defer></script>
<script src="https://zixzorash.vodlix.cloud/js/lodash.min.js?cbuster=1742365165" ></script>
<script src="https://zixzorash.vodlix.cloud/js/jquery_plugs/compressed/sweetalert2.min.js?cbuster=1742365165" defer></script>

<link href="https://zixzorash.vodlix.cloud/js/jquery_plugs/css/sweetalert2.min.css?cbuster=1742365165" rel="stylesheet">
<link rel="stylesheet" href="https://zixzorash.vodlix.cloud/styles/default/theme/css/bootstrap-colorpicker.min.css?cbuster=1742365165">
<link rel="stylesheet" href="https://zixzorash.vodlix.cloud/styles/default/theme/css/flag-icon.min.css?cbuster=1742365165">

    <script src="https://zixzorash.vodlix.cloud/js/vue/production.js?cbuster=1742365165"></script>
<script async defer data-domain="zixzorash.vodlix.cloud" src="https://zixzorash.vodlix.cloud/styles/default/theme/js/plausible.js"></script>




<script type="text/javascript">
            console.log = function () {};
    
        let apiBaseUrl = "https://zixzorash.vodlix.cloud/api";
        window.apps = {}
    window.vodlix = window.vodlix || {
        version: "1.0.0",
        baseurl: "https://zixzorash.vodlix.cloud",
        homeurl: "https://zixzorash.vodlix.cloud",
        imageurl: "https://zixzorash.vodlix.cloud/styles/default/images",
        currentIp: "",
        videoObj:{},
        location: {
            __data: JSON.parse(`{"ipAddress":"49.228.231.208","continentCode":"AS","continentName":"Asia","countryCode":"TH","countryName":"\u0e44\u0e17\u0e22","isEuMember":false,"currencyCode":"THB","currencyName":"Baht","phonePrefix":"66","languages":["th","en"],"stateProvCode":"10","stateProv":"\u0e01\u0e23\u0e38\u0e07\u0e40\u0e17\u0e1e\u0e2f","district":"\u0e23\u0e32\u0e0a\u0e40\u0e17\u0e27\u0e35","city":"\u0e23\u0e32\u0e0a\u0e40\u0e17\u0e27\u0e35","geonameId":7026885,"gmtOffset":7,"timeZone":"Asia\/Bangkok","latitude":13.7683,"longitude":100.54}`),
            getCountryName: function getName() {
                return this.__data.countryName;
            },
            getCountryCode: function getCode() {
                return this.__data.countryCode;
            },
            getCity: function getCity() {
                return this.__data.city;
            },
            getContinent: function getContinent() {
                return this.__data.continent;
            },
            getContinentCode: function getContinentCode() {
                return this.__data.continent_code;
            },
            getState: function getState() {
                return this.__data.state;
            }
        },
        cookies: {
            defaultOptions: JSON.parse('{"expires":365,"path":"\/","domain":"zixzorash.vodlix.cloud","samesite":"None","secure":true,"sameSite":"None"}'),
            set: function setCookie(name, value, options) {
                window.Cookies.set(name, value, { ...this.defaultOptions, ...(options || {}) } );
            },
            get: function getCookie(name) {
                return window.Cookies.get(name);
            },
            delete: function deleteCookie(name, options) {
                window.Cookies.remove(name, { ...this.defaultOptions, ...(options || {}) });
            }
        },
        api: {
            baseUrl: `${apiBaseUrl}`,
            __call: function __call(options) {
                const headers = options.headers || {};
                delete options.headers;

                if(options.endPoint === undefined) {
                    window.alert('endPoint option is required to call Rest API.');
                    return false;
                }

                let endPoint = options.endPoint;
                delete options.endPoint;
                
                if( options.method == 'GET' )
                {
                    var content_domain_filter = ''
                    var content_domain = ''

                    if( content_domain_filter == '1' && content_domain != '' ) {
                        if( endPoint.includes("?") ) {
                                endPoint += "&content_domain="+content_domain
                        } else {
                            endPoint += "?content_domain="+content_domain
                        }
                    }
                }

                if( options.method == 'POST' || options.method == 'GET' )
                {
                    var query_check_params = JSON.parse('[]')

                    for (var key in query_check_params) {
                        if (query_check_params.hasOwnProperty(key))
                        {
                            if( key == 'set_session_cookies' ) {
                                query_check_params[key] = JSON.stringify(query_check_params[key])
                            }

                            if( endPoint.includes("?") ) {
                                endPoint += '&'+key+'='+query_check_params[key]
                            } else {
                                endPoint += '?'+key+'='+query_check_params[key]
                            }
                        }
                    }
                }


                


                return window.jQuery.ajax({
                    ...options,
                    url: window.vodlix.api.baseUrl + endPoint,
                    dataType: 'json',
                    headers: { ...headers, Authorization: window.vodlix.auth.token() }
                });
            },
            get: function getCall(url, options) {
                return window.vodlix.api.__call({
                    ...(options || {}),
                    endPoint: url,
                    method: "GET"
                })
            },
            post: function postCall(url, options) {
                return window.vodlix.api.__call({
                    ...(options || {}),
                    endPoint: url,
                    method: "POST"
                })
            },
            put: function putCall(url, options) {
                return window.vodlix.api.__call({
                    ...(options || {}),
                    endPoint: url,
                    method: "PUT"
                });
            },
            delete: function deleteCall(url, options) {
                return window.vodlix.api.__call({
                    ...(options || {}),
                    endPoint: url,
                    method: "DELETE"
                })
            }
        },
        utils: {
            prettifyDuration: window.prettifyDuration || function prettifyDuration(s) {
                var h = Math.floor(s/3600); //Get whole hours
      
                if(isNaN(h)) {
                h = 0
                }
            
                s -= h*3600;
                
                if(isNaN(s)) {
                s = 0
                }
            
                var m = Math.floor(s/60); //Get remaining minutes
                
                if(isNaN(m)) {
                m = 0
                }
            
                s -= m*60;
                s = Math.floor(s);
                
                var timeRetrun = (m < 10 ? '0'+m : m)+":"+(s < 10 ? '0'+s : s);
                
                if(h >0 ) {
                    timeRetrun = (h < 10 ? '0'+h : h) + ":" + timeRetrun;
                }
                
            
                return timeRetrun;
            },
            numberFormat: function numberFormat(number) {
                return new Intl.NumberFormat().format(number);
            },
            serialize: function serialize(args) {
                if(args === undefined) {
                    return "";
                }

                let queryString = [];

                for(var key in args) {
                    if(args.hasOwnProperty(key)) {
                    queryString.push(`${encodeURIComponent(key)}=${encodeURIComponent(args[key])}`)
                    }
                }

                return queryString.join('&');
            }
        },
        auth: {
            id: function id() {
                return "";
            },
            name: function name() {
                return ""
            },
            token: function token(cookieName) {
                let userToken = window.vodlix.cookies.get('zixzorashauthtokenlocal');

                if(!userToken && cookieName !== undefined) {
                    userToken = window.vodlix.cookies.get(cookieName);
                }

                return userToken || null;
            },
            loginUser: async function loginUser(data,lastUrl) {

                try {
                    const { user } = await window.vodlix.api.post("/users/signin", { data: data });

                    if( user.hasOwnProperty("redirect") && user.redirect == true ) {
                        var mobile_redirect_url = user.hasOwnProperty("redirect_url") ? user.redirect_url : "/"
                        // alert("mobile_redirect_url", mobile_redirect_url);
                        // console.log("mobile_redirect_url", mobile_redirect_url);
                        window.location.href = mobile_redirect_url
                        return true
                    }

                    window.vodlix.cookies.set("zixzorashauthtokenlocal", `Bearer ${user.token}`);

                    const myData = await window.vodlix.api.get("/users/me")

                    const profile_gate = '1'

                    var defaultUrl = "/";
                    var redirect_url = (profile_gate == '1')
                        ? (lastUrl && lastUrl != 'last_url' ? `https://zixzorash.vodlix.cloud/profiles/?last_url=${lastUrl}` : `https://zixzorash.vodlix.cloud/profiles/`)
                        : (lastUrl && lastUrl != 'last_url' ? lastUrl : defaultUrl);



                    if( user.hasOwnProperty('already_exists') && user.already_exists == true )
                    {

                        Swal.fire({
                            title: "We have found a user with the same email address. Its now linked with your account.",
                            showDenyButton: false,
                            showCancelButton: false,
                            confirmButtonText: 'Ok',
                        }).then((result) => {
                            if (result.isConfirmed) {
                                window.location.href = redirect_url
                            }
                        })
                    } else {
                        window.location.href = redirect_url
                    }

                } catch(e) {
                    var button_text = "Login";
                    $(".submitBtn").attr('disabled',false)
                    $(".submitBtn").html(button_text)
                    //console.log('error', e )
                    window.vodlix.error.toast({
                        text: e.responseJSON.message
                    });
                    return e;
                }
            }
        },
        swal: function swal(args) {
            if(window.Swal === undefined) {
                return window.alert(args.text || 'Text message not found');
            }

            return window.Swal.fire(args);
        },
        toast: function toast(args) {
            let options = {
                position: 'top-end',
                timer: 5000,
                timerProgressBar: true,
                showConfirmButton: false,
                ...args,
                toast: true
            }

          return this.swal(options);
        },
        confirm: function confirm(args) {
          let options = {
            position: 'top-center',
            showDenyButton: true,
            focusConfirm: false,
            allowEnterKey: false,
            confirmButtonText: "Yes",
            denyButtonText: "No",
            ...args,
            allowOutsideClick: () => !window.Swal.isLoading(),
          }

          return this.swal(options);
        },
        success: {
          defaultTitle: 'Success',
          toast: function successToast(args) {
            return window.vodlix.toast({ titleText: this.defaultTitle, ...args, icon: 'success' });
          },
          confirm: function successConfirm(args) {
            return window.vodlix.confirm({ titleText: this.defaultTitle, ...args, icon: 'success' });
          }
        },
        info: {
          defaultTitle: 'Info',
          toast: function infoToast(args) {
            return window.vodlix.toast({ titleText: this.defaultTitle, ...args, icon: 'info' });
          },
          confirm: function infoConfirm(args) {
            return window.vodlix.confirm({ titleText: this.defaultTitle, ...args, icon: 'info' });
          }
        },
        warning: {
          defaultTitle: 'Warning',
          toast: function warningToast(args) {
            return window.vodlix.toast({ titleText: this.defaultTitle, ...args, icon: 'warning' });
          },
          confirm: function warningConfirm(args) {
            return window.vodlix.confirm({ titleText: this.defaultTitle, ...args, icon: 'warning' });
          }
        },
        error: {
          defaultTitle: 'Error',
          toast: function errorToast(args) {
            return window.vodlix.toast({ titleText: this.defaultTitle, ...args, icon: 'error' });
          },
          confirm: function errorConfirm(args) {
            return window.vodlix.confirm({ titleText: this.defaultTitle, ...args, icon: 'error' });
          }
        },
        question: {
          defaultTitle: 'Question',
          toast: function questionToast(args) {
            return window.vodlix.toast({ titleText: this.defaultTitle, ...args, icon: 'question' });
          },
          confirm: function questionConfirm(args) {
            return window.vodlix.confirm({ titleText: this.defaultTitle, ...args, icon: 'question' });
          }
        },
    };
    function getFormattedMaturityLevel(text){
        let value;
        if ( text != undefined ){
            if( text == 'all' ) {
                value = 'All'
            } else {
                value = text.replace('_plus','+')
            }
        }
        return value
    }

    function isInt(value) {
        return !isNaN(value) && 
            parseInt(Number(value)) == value && 
            !isNaN(parseInt(value, 10));
    }

    function mp_track_event( event, props )
    {
        var url = 'https://zixzorash.vodlix.cloud/admin_area/ajax.php?mode=mp_event_track&event='+event;
        $.ajax({
            'type': "POST",
            'url': url,
            'data': props,
            'dataType': "json",
        })
    }

    function hs_upsert_deal( event )
    {
        var url = 'https://zixzorash.vodlix.cloud/admin_area/ajax.php?mode=hs_upsert_deal_details&event='+event;
        $.ajax({
            'type': "POST",
            'url': url
        })
    }

    function isTouchDevice() {
        return (('ontouchstart' in window) ||
            (navigator.maxTouchPoints > 0) ||
            (navigator.msMaxTouchPoints > 0));
    }

    function validate_email(emailString) {
        var regEx = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/;
        return regEx.test(emailString);
    }


    function validate_username(username) {
        const res = /^[A-Za-z0-9_\.]+$/.exec(username);
        const valid = !!res;
        return valid;
    }

    function isFunction(functionToCheck) {
        return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';
    }

    function delay(time) {
        return new Promise(resolve => setTimeout(resolve, time));
    }

    function keyExists(key, search) {
        if (!search || (search.constructor !== Array && search.constructor !== Object)) {
            return false;
        }
        for (var i = 0; i < search.length; i++) {
            if (search[i] === key) {
                return true;
            }
        }
        return key in search;
    }

    function upsertSession() {
        var session_api = '/base/session?app_name=web_app';
        window.vodlix.api.get(session_api);
    }
    upsertSession();

    function patternToRegex(pattern) {
        const regexString = pattern
            .split('')
            .map(c => c === 'x' ? '[A-Za-z0-9]' : escapeRegExp(c))
            .join('');
        return new RegExp(`^${regexString}$`);
    }

    function escapeRegExp(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

</script>

<title>FSDSS-738 [Reduicing Mosaic] - ZIXZO OTT &amp; IPTV</title>

<link rel="shortcut icon" type="image/png" href="https://lh3.googleusercontent.com/pw/AP1GczPW9KtoeLEALrm18VL6usmd2nFbuPffI6eSVfUiGA1jcw1vMNT3pqLqI9zRDTXnX_Zx8fNjaHMX6IA-L8sqibr44HYJQH8RihKmqoGAJbpQm-4yTx72M2UlvNqF1-dCQqD8jxGOkXNGTwSn7BpFbE-Lhw=w512-h512-s-no-gm?authuser=0"/>


<!-- DIRTY IMA CONTROLS FIX-->
<style>
    .ima-controls-div
    {
        z-index: 1200 !important;
    }
</style>


    <style>
        .slideTitle {
            font-size: 15px !important;
        }
    </style>


   
       
    
    <script src="https://zixzorash.vodlix.cloud/styles/default/theme/js/swiper-bundle.min.js"></script>

        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://zixzorash.vodlix.cloud" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    
</head><body class="blank-layout">
	<h5 class="main-title">FSDSS-738 [ซับไทย UnCEN] By ZIXZO OTT&IPTV</h5>
            <div id="wrapper" class="clearfix appMian watchVideoPage">
            <header class="clearfix headerMain" id="searchMain">
<div class="innerHeader d-flex align-items-center insidePadding">
<h1 class="logo p-0 m-0 mr-2">
            <a href="https://facebook.com">
                <img src="https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/images/branding/custom/mobile_web_header.png?lu=1739540888" alt="ZIXZO OTT &amp; IPTV" class="">
<!-- <img src="https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/images/branding/custom/mobile_web_header.png?lu=1739540888" alt="ZIXZO OTT &amp; IPTV" class="d-none d-lg-block d-md-block d-sm-block">
                <img src="https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/images/branding/custom/native_app_header.png?lu=1739540726" alt="ZIXZO OTT &amp; IPTV" class="d-lg-none d-md-none d-sm-none"> -->
</a>   
</h1>                 
           
            

                        
            
            
            
<div class="searchHolder">
<div class="searchBlock">
<input 
v-model="searchQuery"
type="text" 
class="form-control searchInput"
                            id="vodlix-search-field"
                            placeholder="Movies, TV Shows"
                            @keyup.enter="performSearch"
>
</div>

</div>
                            <div class="langChange dropdown relative userMenu">
                    <div class="row ml-1 mr-1">
                        <button type="button" class="btn text-white px-0 no-shadow d-flex align-items-center text-decoration-none dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                            <i class="flag-icon flag-icon-th mx-2"></i>
                                {{ seltLang }}
                                                    </button>
                        <div class="dropdown-menu headerDropMenu">
                            <a 
                                v-for="lang in langes" 
                                class="dropdown-item langDropDown" 
                                href="javascript:void(0)"
                                :class="{'active': seltLang == lang.language_code }"
                                @click="changeLang(lang.language_id)"
                            >   
                                {{ lang.language_name }}
                            </a>
                        </div>
                    </div>
                </div>
                                                            <!-- btn btn-primary headBtn no-shadow ml-2 d-none d-lg-block d-md-block d-sm-block -->
                            
        </div>
</header>





<script>
    $(document).ready(function () {
        // Prevent closing the dropdown when clicking on nav-link-mob
        $('.nav-link-mob').on('click', function (e) {
            e.stopPropagation(); // Prevent the event from bubbling up to the parent
        });
    
        // Ensure clicking the parent dropdown toggles its state
        $('#dropdownMenuButton').on('click', function (e) {
            const $dropdown = $('.dd-menu');
            if ($dropdown.is(':visible')) {
                $dropdown.hide(); // Close dropdown if visible
            } else {
                $dropdown.show(); // Open dropdown if hidden
            }
            e.stopPropagation(); // Prevent event bubbling
        });
    
        // Close dropdown only when clicking outside
        $(document).on('click', function () {
            $('.dd-menu').hide();
        });
    });
</script>


<script type="text/javascript">
const search = new Vue({
el:'#searchMain',
data(){
return {
                    langes:[{"language_id":"1","language_code":"en","language_name":"English","language_regex":"\/^en\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"3","language_code":"fa","language_name":"Persian","language_regex":"\/^fa\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"5","language_code":"ar","language_name":"Arabic","language_regex":"\/^ar\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"7","language_code":"es","language_name":"Spanish","language_regex":"\/^es\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"9","language_code":"fr","language_name":"French","language_regex":"\/^fr\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"11","language_code":"ko","language_name":"Korean","language_regex":"\/^ko\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"13","language_code":"hi","language_name":"Hindi","language_regex":"\/^hi\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"15","language_code":"it","language_name":"Italian","language_regex":"\/^it\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"17","language_code":"th","language_name":"Thai","language_regex":"\/^th\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"19","language_code":"sk","language_name":"Slovak","language_regex":"\/^sk\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"21","language_code":"el","language_name":"Greek","language_regex":"\/^el\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"23","language_code":"tr","language_name":"Turkish","language_regex":"\/^tr\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"25","language_code":"bg","language_name":"Bulgarian","language_regex":"\/^bg\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"27","language_code":"ur","language_name":"Urdu","language_regex":"\/^ur\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"29","language_code":"pl","language_name":"Polish","language_regex":"\/^pl\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"31","language_code":"pt","language_name":"Portuguese","language_regex":"\/^pt\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"33","language_code":"sv","language_name":"Swedish","language_regex":"\/^sv\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"35","language_code":"ru","language_name":"Russian","language_regex":"\/^ru\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"37","language_code":"de","language_name":"German","language_regex":"\/^de\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"39","language_code":"fa","language_name":"Persian","language_regex":"\/^fa\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"41","language_code":"ar","language_name":"Arabic","language_regex":"\/^ar\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"43","language_code":"es","language_name":"Spanish","language_regex":"\/^es\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"45","language_code":"fr","language_name":"French","language_regex":"\/^fr\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"47","language_code":"ko","language_name":"Korean","language_regex":"\/^ko\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"49","language_code":"hi","language_name":"Hindi","language_regex":"\/^hi\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"51","language_code":"it","language_name":"Italian","language_regex":"\/^it\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"53","language_code":"th","language_name":"Thai","language_regex":"\/^th\/i","language_active":"yes","language_default":"yes","for_content":"1","rtl":"0"},{"language_id":"55","language_code":"sk","language_name":"Slovak","language_regex":"\/^sk\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"57","language_code":"el","language_name":"Greek","language_regex":"\/^el\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"59","language_code":"tr","language_name":"Turkish","language_regex":"\/^tr\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"61","language_code":"bg","language_name":"Bulgarian","language_regex":"\/^bg\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"63","language_code":"ur","language_name":"Urdu","language_regex":"\/^ur\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"65","language_code":"pl","language_name":"Polish","language_regex":"\/^pl\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"67","language_code":"pt","language_name":"Portuguese","language_regex":"\/^pt\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"69","language_code":"sv","language_name":"Swedish","language_regex":"\/^sv\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"71","language_code":"ru","language_name":"Russian","language_regex":"\/^ru\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"},{"language_id":"73","language_code":"de","language_name":"German","language_regex":"\/^de\/i","language_active":"yes","language_default":"no","for_content":null,"rtl":"0"}],
                    langId:'',
                    seltLang:'',
                    isLoggedIn:``,
                searchRoute: "/search/",
searchQuery:'',
param:{"sort":"most_recent","time":"all_time","page":"1"},
subscription:null,
                    logo:``,
}
},
methods:{
                searchFromAutocomplete(selectedItem) {
                    this.searchQuery = selectedItem; // Update the search query with the selected item
                    this.performSearch(); // Perform the search
                },
performSearch() {
               // console.log( 'hi', this.searchQuery )
                if(this.searchQuery.length < 2) {
                    return;
                }

                if(this.param.type !== undefined) {
                    window.location.href = `${ this.searchRoute }?q=${this.searchQuery}&type=${this.param.type}`;
                } else {
                    window.location.href = `${ this.searchRoute }?q=${this.searchQuery}&type=all`
                }
            },
// searchUpdate: _.debounce(function (e) {
// //console.log('dasd', e.target.value )
//     this.searchQuery = e.target.value;
// this.performSearch();
// }, 500),
                changeLang(id){
                    //console.log('hi', id)
                    if (id != undefined){
                        this.langId = id
                        let landCodeObj = this.langes.find(item => {
                            item.language_code = id
                            //console.log(item)
                            return item
                        })
                       // console.log('landCodeObj', landCodeObj)
                        window.vodlix.cookies.set("zixzorashvod_language", landCodeObj.language_code )
                        if ( this.isLoggedIn )
                            this.saveLang();
                        else
                            window.location.reload()
                    }
                },
                saveLang(){
                    let obj = {
                        "language_id":this.langId,
                    }
                    let data = {
                        'data': obj
                    }
                    window.vodlix.api.post('/v2/language',data).then(res=>{
                        //console.log('res', res )
                        window.location.reload()
                    }).catch(err=>{
                        console.log('err', err.responseJSON.errors.error[0] )
                        window.vodlix.error.toast({
                            text: err.responseJSON.errors.error[0]
                        })
                    })
                },
},
mounted(){
//console.log(this.param)
},
            beforeMount(){
                if ( this.langes.length > 0 ){
                    let selectedLang = window.vodlix.cookies.get("zixzorashvod_language");

                    if ( selectedLang != null && selectedLang != undefined ) {
                        //console.log('selectedLang', selectedLang )
                        let sletLangs = this.langes.find(obj => obj.language_id == selectedLang);
                        //console.log('sletLang', sletLangs )
                        if ( sletLangs != undefined )
                            this.seltLang = sletLangs.language_code
                    } else {
                        this.seltLang = 'th';
                    }
                }
            },
})
</script>
    
    
        <script type="text/javascript">
var _addToFavourites = `
<button 
type="button" 
class="boxBtn rounded-circle mr-1"
@click="updateFavorites"
:disabled="btnDisable"
      :status="btnStatus"
      data-toggle="tooltip" data-placement="top" :title="toolTipText"
>
<i 
class="mdi"
:class="iconChanged"
></i>
</button>
`;
Vue.component('addToFavourites',{
template:_addToFavourites,
data: function(){
return {
btnDisable:false,
favId: this.video.fav_id,
toolTip:false,
favouritesStatus:'addFavourites'
}
},
props:{
video:{
type:Object
},
},
computed:{
btnStatus(){
if ( this.video.fav_id || this.video.is_favourite != null || this.video.is_favourite != undefined  )
return this.favouritesStatus = 'removeFavourites'
else
return this.favouritesStatus = 'addFavourites'
},
iconChanged(){
if ( this.favouritesStatus == 'removeFavourites' )
return 'mdi-check'
else 
return 'mdi-plus'
},
methods:{
updateFavorites(){
                let isLogin = ``
                if ( !isLogin ) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }
//console.log('status sd', this.favouritesStatus)
if ( this.favouritesStatus == 'removeFavourites' )
this.removeToFavourites()
else 
this.addToFavourites()
},
addToFavourites(){
this.isLoading = true
this.btnDisable = true
this.toolTip = true
                var group_id = ''
let videoObj = {
'videoid' : this.video.videoid,
}
let data = {
'data': videoObj
}
                if( group_id != '' && group_id != undefined ) {
                    data['data']['content_list_group_id'] = group_id
                }
                console.log(data);
window.vodlix.api.post('/videos/addToFavourites', data).then(res=>{
window.vodlix.success.toast({
                        text: `${this.video.title} added to your list`
                    })
this.favouritesStatus = 'removeFavourites'
this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
}).catch(err=>{
console.log(err)
this.btnDisable = false
window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                    $('[data-toggle=tooltip]').tooltip('dispose')
})
},
removeToFavourites(){
let videoObj = {
'videoid' : this.video.videoid,
}
let data = {
'data': videoObj
}
this.btnDisable = true
window.vodlix.api.post('/videos/removeFavourite', data).then(res => {
window.vodlix.success.toast({
                        text: `${this.video.title} removed from your list`
                    })
this.favouritesStatus = 'addFavourites'
this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
}).catch(err =>{
console.log(err)
this.btnDisable = false
window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                    $('[data-toggle=tooltip]').tooltip('dispose')
})
}
},
mounted(){
$(document).ready(function(){
$("body").tooltip({ selector: '[data-toggle=tooltip]' });
})
}
})
</script>                <script type="text/javascript">
    var _likeVideo = `
    <div class="d-flex">
            <button 
                type="button" 
                class="boxBtn rounded-circle mr-1"
                :class="extraClasses"
                @click="likeVideo"
                :disabled="btnDisable"
          data-toggle="tooltip" data-placement="top" :title="likeToolTipText"
            >
                <i 
                    class="mdi"
                    :class="rated"
                ></i>
            </button>
            <button 
                v-if="hidedislike"
                type="button" 
                class="boxBtn rounded-circle mr-1"
                :class="extraClasses"
                @click="dislikeVideo"
                :disabled="btnDisable"
                data-toggle="tooltip" data-placement="top" :title="dislikeToolTipText"
            >
                <i 
                    class="mdi"
                    :class="unRated"
                ></i>
            </button>
            </div>
      
`;
    Vue.component('likeVideo', {
        template: _likeVideo,
        data: function () {
            return {
                btnDisable: false,
                like: '',
                dislike: '',
                likeStatus: 'like',
                videoRated: this.video.rate
            }
        },
        props: {
            video: {
                type: Object
            },
            extraClasses: {
                type: String
            },
            type: {
                type: Number,
                default: 1
            },
            hidedislike: {
                type: Boolean,
                default: false
            }
        },        
            
            
        methods: {
            likeVideo() {
                let isLogin = ``
                if (!isLogin) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }

                let obj = {
                    'content_type': this.type, // 1= movie 2 = series
                    'content_id': this.checkIds, //could be videoid and series
                    'rate': 1  // for like 1,  -1 for dislike, 0 for neutral
                }
                let data = {
                    'data': obj
                }
                this.btnDisable = true
                window.vodlix.api.post('/v2/rate', data).then(res => {
                    //console.log('res', res )
                    if (res.data.upvotes != 0)
                        this.videoRated = 1
                    else
                        this.videoRated = 0

                    this.btnDisable = false
                    console.log(this.videoRated);
                    $('[data-toggle=tooltip]').tooltip('dispose')
                }).catch(err => {
                    console.log(err)
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                    window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                })
            },
            dislikeVideo() {
                let isLogin = ``
                if (!isLogin) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }
                let obj = {
                    'content_type': this.type, // 1= movie 2 = series
                    'content_id': this.checkIds, //could be videoid and series
                    'rate': -1  // for like 1,  -1 for dislike, 0 for neutral
                }
                let data = {
                    'data': obj
                }
                this.btnDisable = true
                window.vodlix.api.post('/v2/rate', data).then(res => {
                    //console.log('res', res )
                    if (res.data.downvotes != 0)
                        this.videoRated = -1
                    else
                        this.videoRated = 0
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                }).catch(err => {
                    console.log(err)
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                    window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                })
            },
        },
        mounted() {
            $(document).ready(function () {
                $("body").tooltip({ selector: '[data-toggle=tooltip]' });
            })
        }
    })
</script>        
            <div class="clearfix insidePadding watchVideoInner pt-3">
                
                <script src="//imasdk.googleapis.com/js/sdkloader/ima3.js" defer></script>
    <style>
    :root {
        --play-progress: #dd2c00 !important;
        --bar-height: 3.5em !important;
        --bar-padding: 1.5em !important;
        --bar-width: var(--bar-height) !important;
        --icon-size: calc(var(--bar-height) * 0.5) !important;
        --primary-color: #dd2c00 !important;
        --big-button-border: #dd2c00 !important;
    }
    .backButtonIcon {
        font-size: 40px;
        position: absolute;
        padding: 0px !important;
        top: 10px; 
        left: 10px;
    }
    .backButton {
        background: none !important;
    }

    .episodes-list {
        position: fixed;
        right: 0;
        bottom: 30px; /* The height of your progress bar */
        width: 40%;
        height: calc(100% - 50px); /* Subtract the height of your progress bar and some additional space if needed */
        background-color: #000;
        color: #fff;
        padding: 20px;
        z-index: 1;
        overflow: hidden;
    }
    .episodes-container {
        overflow-y: auto;
        height: calc(100% - 50px); /* Adjust as needed */
        padding: 10px;
    }

    .img-container {
        width: 40%;
        padding-bottom: 22%; 
        position: relative;
        height: 0;
        overflow: hidden;
        padding-bottom: 25%; 
    }

    .episode-img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        object-fit: cover;
    }

    .episodes-container .progress {
        background-color: rgba(255, 255, 255, 0.2);
        border-radius: 2px;
    }

    .episodes-container .progress-bar {
        background-color: var(--play-progress, #E50914);
    }

    .episodes-container::-webkit-scrollbar {
        width: 5px;
    }

    .episodes-container::-webkit-scrollbar-track {
        background: transparent;
    }

    .episodes-container::-webkit-scrollbar-thumb {
        background: black;
    }

      /* CSS for smaller screens (e.g., mobile devices) */
    @media screen and (max-width: 768px) { /* Adjust 768px to the desired breakpoint */
        .episodes-list {
            width: 100%; /* Take up full width on smaller screens */
            height: calc(100% - 20px); /* Adjust as needed */
        }

        .img-container {
            width: 100%; /* Images take up full width on smaller screens */
            padding-bottom: 56.25%; /* Maintain a 16:9 aspect ratio */
        }
    }

    .audio-only .vjs-tech {
        visibility: hidden; /* Hide the video element */
        height: 0; /* Collapse the height */
    }
    
    .audio-only .vjs-poster {
        display: block; /* Ensure the poster is still displayed */
    }
    
    .audio-only .vjs-control-bar {
        display: flex; /* Ensure the control bar is visible */
    }

</style>

    
    
        <script src="https://zixzorash.vodlix.cloud/player/beeexplayer.min.js?cbuster=1742365165"></script>
    
                    <!-- <script src="https://cdn.jsdelivr.net/gh/arslancb/beeexplayer@2.6.3.0/beeexplayer.min.js"></script> -->
        
        <script src="https://zixzorash.vodlix.cloud/player/beeex-xr/beeex-xr.min.js?cbuster=1742365165"></script>
        <link rel="stylesheet" href="https://zixzorash.vodlix.cloud/player/beeex-xr/beeex-xr.css?cbuster=1742365165"></script>

        
        <!-- <script src="https://cdn.jsdelivr.net/gh/arslancb/beeexplayer@master/modules/beeex-xr/dist/beeex-xr.min.js?cbuster=1742365165"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/arslancb/beeexplayer@master/modules/beeex-xr/dist/beeex-xr.css?cbuster=1742365165" /> -->
    
    <!-- Video.js YouTube plugin script -->
    <!-- <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/videojs-youtube/2.6.0/Youtube.min.js"></script> -->

    
    <!-- <script src="https://unpkg.com/videojs-contrib-dash@5.1.1/dist/videojs-dash.js"></script> -->
            <script src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1" type="text/javascript"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/videojs-overlay/1.1.4/videojs-overlay.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-overlay/1.1.4/videojs-overlay.js" integrity="sha512-4JHWKASVAYATI41VXilLx+HZeg/wa+kNqIJ0y+HPZjBp/92XMJHbOMS3mWFP0ZqB24Ye5gR3s7YXrbYpRH2maQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    
    


    <div id="playerApp" :class="playerWrapperClass">
        <div :class="playerRowClass" class="row h-100">
            <div class="col-12">
                <template v-if="!hasError && hasVideo">
                    <div class="player-ratio relative  ratio-16x9  ">
                        <template v-if="isEmbedded">
                            <div v-html="this.rawVideo.embed_code"></div>
                        </template>
                        <template v-else>

                            <video
                                class="video-js vjs-default-skin vidlixPlayer_skin "
                                controls
                                autoplay
                                playsinline
                                :id="id"
                                :poster="poster"
                                crossorigin="anonymous"
                            >
                                <template v-if="hasMedia">
                                    <template v-for="(value, key) in video._media">
                                        <!-- <source :key="key" :src="value.src"  :type="value.type" /> -->
                                    </template>
                                </template>

                                <template v-if="hasCaptions">
                                    <template v-for="(subtitle, index) in video.captions">
                                        <track
                                        :key="`${id}-${subtitle.subid}`"
                                        :kind="subtitle.kind"
                                        :label="subtitle.label"
                                        :src="subtitle.src"
                                        :srcLang="subtitle.srcLang"
                                        :default="subtitle.default"
                                        />
                                    </template>
                                </template>
                            </video>
                        </template>
                    </div>
                </template>
                <template v-if="hasError">
                    <template v-if="publishStatus != ''">
                        <div class="player-ratio relative  ratio-16x9  ">
                            <div class="video-js d-flex align-items-center justify-content-center flex-column px-3">
                                <h2 class="h4 text-uppercase mb-5">
                                    {{ error.message }}
                                </h2>
                                <countdown :date="publishStatus.date"></countdown>
                            </div>
                        </div>
                    </template>
                    <template v-else>
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-12 mb-3">
                                <div class="card">
                                    <div class="card-body p-5">
                                        <p class="h4 mb-5">
                                            <i class="mdi mdi-alert-circle-outline iconize"></i>
                                            <span v-html="error.message"></span>
                                        </p>
                                        <template v-if="logintowatch == 1 && !loggedIn">
                                            <div class="">
                                                <login-form :lasturl="pathname"></login-form>
                                            </div>
                                        </template>
                                        <template v-else>
                                            <template v-if="hasRedirect">
                                                <a :href="error.redirect.value" class="btn btn-primary btn-block" v-html="error.redirect.label"></a>
                                                                                                    <template v-if="error.loginCheck != ''">
                                                        <a href="/signup/" class="btn btn-primary btn-block" > Create Account </a>
                                                    </template>
                                                                                                <template v-if="hasBundleRedirects">
                                                    <template v-for="(bundleRedirect, index) in error.redirect.bundleRedirects">
                                                        <a :href="bundleRedirect.value" class="btn btn-primary btn-block" v-html="bundleRedirect.label"></a>
                                                    </template>
                                                </template>
                                                <template v-if="error.redirect.tvodRedirect">
                                                 <a :href="error.redirect.tvodRedirect.value" class="btn btn-primary btn-block" v-html="error.redirect.tvodRedirect.label"></a>
                                                </template>
                                            </template>
                                        </template>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-8 col-md-6 col-12">
                                <template v-if="hasVideo">
                                    <video-detail-block 
                                        :video="video" 
                                        :logintowatch="true"
                                        :error="error"
                                    ></video-detail-block>
                                </template>
                                <template v-else>
                                    <series-detail-block 
                                        :series="series" 
                                        :logintowatch="true"
                                        :error="error"
                                    ></series-detail-block>
                                </template>
                            </div>
                        </div>
                    </template>
                </template>
            </div>
        </div>
    </div>

    
    <div class="protected_content d-none">
                <div class="container detailsContainer">
    <div class="text-center mt-5">
        <h2> <b> Protected Content </b> </h2>
        <div class="container mt-5">
            <h5>
                Unfortunately, the content you are trying to access cannot be viewed in mobile browser.
                <br>
                <br>
                Please download our app to access this content
            </h5>
        </div>
    </div>
</div>


            </div>
    
    
    <script type="text/javascript">
        

        var lastTimeCheck = 0;
        var videoEnded = false;
            const playerApp = new Vue({
            el: "#playerApp",
            data() {
                return {
                    player: {},
                    id: "media-119",
                    siteLogo: "https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/images/branding/custom/mobile_web_header.png?lu=1739540888",
                                        rawVideo: {"videoid":"119","videokey":"4NW2K3866HGY","video_password":null,"video_users":"","username":"IDOL_CHAMP","userid":"1","partner_id":null,"maturity_level":"18_plus","title":"FSDSS-738 [Reduicing Mosaic]","file_name":"1742368233acjUkWkc9d","file_type":"2","description":"FSDSS-738 [Reduicing Mosaic]\r\n\r\nAfter Losing His Beloved Wife, He Is Overcome With Loneliness And Ends Up Having Sex With His Sister-in-law Many Times... Amatsuka Moe","tags":"fsdss-738,[reduicing,mosaic].mp4","category":"#1# ","category_parents":"","broadcast":"public","location":"TH","datecreated":null,"country":"TH","blocked_countries":"#0# ","allowed_countries":"#0# ","sprite_count":"0","season_id":"0","series_id":"0","sequence":"0","allow_embedding":"","rating":"0","rated_by":"0","voter_ids":"","featured":"yes","featured_order":null,"featured_date":"2025-03-29 12:40:26","featured_description":"","allow_rating":"yes","allow_comments":"yes","comments_count":"0","last_commented":null,"active":"yes","favourite_count":"0","playlist_count":"0","views":"3","last_viewed":"0000-00-00 00:00:00","date_added":"2025-03-19 07:10:33","flagged":"no","duration":"7508","status":"Successful","failed_reason":"none","default_thumb":"3925","aspect_ratio":"","embed_code":"","refer_url":"","downloads":"0","uploader_ip":"184.22.230.15","mass_embed_status":"no","unique_embed_code":"","remote_play_url":"","video_files":"[720,1080]","server_ip":"","file_server_path":"","file_directory":"2025\/03\/19","files_thumbs_path":"","file_thumbs_count":"","has_hq":"no","filegrp_size":"","process_status":"4","video_version":"2.8","extras":"","subscription_email":"pending","thumbs_version":"3.0","re_conv_status":"","conv_progress":"","is_premium":"no","override_default_monetization":"0","credits_required":null,"rental_hours":"0","premium_cid":"0","in_editor_pick":"no","has_subs":"no","total_subs":"0","last_sub_num":"0","live":"","udp_live":null,"force_hls_http_url":null,"start_published_date":null,"end_published_date":null,"has_sprite":"no","version":"1","has_resulotion":"no","aws_service_id":"0","aws_cdn":"","aws_thumb_path":"","license_by":"","is_channeHome":"no","super_feature":"0","is_avod":"1","is_tvod":"0","pre_order":"0","live_status":"0","deleted_at":null,"content_type":"1","is_360":"0","projection_type":"NONE","epg_channel_id":"","drm_protected":"no","epg_url":null,"content_language":"th","dvr_url":null,"dvr_backup_timezone":null,"dvr_backup_duration":"0","dvr_thumbnail":null,"dvr_thumbnail_mp4":null,"epg_dvr_catchup_url":null,"epg_duration":null,"mpaa_rating":"NC-17","content_rating_tags":"[\"nudity\"]","free_to_watch":"1","google_dai_assetkey":"","google_dai_cmsid":"0","google_dai_videoid":"","aniview_ssai_id":"","aniview_channel_id":"","concate_avs_source":"0","aniview_extra_qp":"","iab_categories":"","is_audio":"0","email":"valkyrie@sajikacash.in.th","avatar":"0","sex":"male","avatar_url":"","dob":"1987-07-04","level":"1","usr_status":"Ok","user_session_key":"777750fea4d3bd585bf47dc1873619fc","ban_status":"no","total_photos":"0","profile_hits":"0","total_videos":"39","subscribers":"0","total_subscriptions":"1","is_live":"no","is_verified":"no","opt_in_marketing":"0","is_partner":"0","phone":"886605569","doj":"0000-00-00 00:00:00","user_deleted":null,"is_imported":"0","imported_user_status":"0","assets":[{},{"path":"\/u\/zixzorash\/files\/thumbs\/2025\/03\/19\/1742368233acjUkWkc9d-original-1.jpg","host":"vcz-zixzorash-vodlix-cloud.b-cdn.net"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],"meta_title":null,"meta_desc":null,"rate":0},
                                        videoComments: "1",
                    video: {},
                    error: {
                        status: false,
                        message: "",
                        redirect: {}
                    },
                    routes: {
                        home: "/"
                    },
                    thumbDisplayType:`landscape`,
                    pathname:window.location.pathname,
                    loggedIn:``,
                    logintowatch:`0`,
                    series:{},
                    publishStatus:'',
                }
            },
            computed: {
                hasVideo() {
                    return !window._.isEmpty(this.video);
                },
                itemId() {
                    return this.video.content.videoid || -1;
                },
                contentType() {
                    return this.video.content.content_type || 1;
                },
                itemOwnerId() {
                    return this.video.content.userid || -1;
                },
                loggedId() {
                    return parseInt("")
                },
                profileId() {
                    return parseInt("")
                },
                package() {
                                            return "avod";
                                    },
                country() {
                    return window.vodlix.location.getCountryCode();
                },
                title() {
                    return this.video.content.title || "";
                },
                description() {
                    return this.video.content.description || "";
                },
                duration() {
                    return parseInt(this.video.content.interval) || 0
                },
                categoryIds() {
                    if (
                        window._.isEmpty(this.video) ||
                        this.video.content.categories === null ||
                        this.video.content.categories === undefined ||
                        this.video.content.categories.length === 0
                    ) {
                        return [];
                    }

                    return this.video.cateogries.map(item => item.category_id);
                },
                isEpisode() {
                    return this.video.content.series_id > 0 && this.video.content.season_id > 0
                },
                seriesId() {
                    return this.isEpisode ? this.video.content.series_id : 0
                },
                seasonId() {
                    return this.isEpisode ? this.video.content.season_id : 0
                },
                partnerId() {
                    return this.video.content.partner_id
                },
                feelxScript() {
                    if( this.video.content.feelx_script )
                        return this.video.content.feelx_script
                    else
                        return false;
                },
                seriesTitle() {
                    return this.isEpisode ? (this.video.content.series_name || this.video.content.series.series_name || this.video.series.series_name || "") : ""
                },
                hasError() {
                    return this.error.status;
                },
                hasMedia() {
                    return this.video._media && this.video._media.length > 0;
                },
                hasCaptions() {
                    return this.video.captions && this.video.captions.length > 0;
                },
                hasRedirect() {
                    return this.error.redirect !== undefined;
                },
                hasBundleRedirects() {
                    return this.error.redirect.bundleRedirects !== undefined;
                },
                isEmbedded() {
                    return this.rawVideo.embed_code !== undefined && this.rawVideo.embed_code !== "";
                },
                playerWrapperClass() {
                    return {
                        "1insidePadding": this.hasError || this.videoComments === "1",
                        "h-100": true,
                        "player vodlix-player": !this.isEmbedded,
                        "player embedded-player": this.isEmbedded,
                        "player player-not-fixed h-92": this.videoComments === "1",
                        "not-player": this.hasError
                    }
                },
                playerRowClass() {
                    return {
                        "justify-content-center": this.hasError,
                        "align-items-center": this.hasError
                    }
                },
                poster() {
                    return this.video.thumbs && (this.video.thumbs.original || this.video.thumbs['1280x720']);
                },
                ads() {
                    return this.video.ad || {}
                },
                sprite() {
                    
                    if (this.video && this.video.sprite && this.video.sprite !== undefined && this.video.sprite !== "") {
                        
                        return this.video.sprite;
                    }

                    return {};
                },
                apiBase() {
                    return window.vodlix.api.baseUrl;
                },
                thumbDisplay(){
                    if ( this.thumbDisplayType != undefined  && this.thumbDisplayType == 'portrait' )
                        return this.video.portrait_thumbs['320x480'] !== undefined ? this.video.portrait_thumbs['320x480'] : this.video.thumbs['416x260']
                    else if ( _.isEmpty(this.thumbDisplayType) || this.thumbDisplayType == undefined )
                        return this.video.thumbs['416x260'] || this.video.thumbs.original
                    else
                        return this.video.thumbs['416x260'] || this.video.thumbs.original
                },
                portraitThumb(){
                    return this.video.portrait_thumbs['320x480'] || this.video.portrait_thumbs['320x480'] || this.video.thumbs['416x260'] || this.video.portrait_thumbs.original
                },
                maturityText(){
                    return ( text ) => {
                        if ( text != undefined ){
                            let value = text.replace('_plus','+')
                            return value
                        }
                    }
                }
            },
            methods: {
                init() {
                    this.$nextTick(() => {
                        const StatsData = {
                            object_id: this.itemId,
                            object_type: this.contentType,
                            country: this.country,
                            user: this.loggedId,
                            uploader: this.itemOwnerId,
                            package: this.package,
                            title: this.title,
                            series_id: this.seriesId,
                            series_title: this.seriesTitle,
                            partner_id: this.partnerId,
                        }

                        var finalApiBase = 'https://zixzorash.stats.vodlix.com/api'

                        if( !finalApiBase ) {
                            finalApiBase = this.apiBase;
                        }

                        var finalStatsEndpoint = 'stats?phpid=7gaba314c2c9nal745irpga2qh'

                        // console.log("finalApiBase", finalApiBase);

                        const statsConfigs = {
                            data: StatsData,
                            indexevent:'event',
                            indexfinish:'finish',
                            indexad:'ad_impression',
                            indeximpression:'impression',
                            indexbrowser:'browser',
                            indexdevice:'device',
                            indexseconds:'seconds',
                            options: {
                                
                                finishPercentage : 90,
                                viewTime:5, 
                                CustomENABLED:true,
                                statsEndPoint: finalStatsEndpoint,
                                analyticsEndPoint: finalStatsEndpoint,
                                apiBase: finalApiBase,
                                ads: {},
                                categories: this.categoryIds,
                                duration: `7508`,
                                additionalData: {
                                ...(this.video.rentalId !== undefined && { rental_id: this.video.rentalId })
                                },
                            }
                        };
                        
                        var _this_object = this;


                        let vjsCore = {
                            chromecast: {
                                requestTitleFn: function(source) { // Not required
                                    return `FSDSS-738 [Reduicing Mosaic]`;
                                },
                                requestSubtitleFn: function(source) { // Not required
                                  return  `FSDSS-738 [Reduicing Mosaic]`;
                                },
                                requestPosterFn: function(source) { // Not required
                                    if (_this_object.video.portrait_thumbs === undefined  || !_this_object.video.portrait_thumbs.hasOwnProperty("original")) {
                                        return null;
                                    }else
                                    {
                                        return _this_object.video.portrait_thumbs["original"]
                                        
                                    }
                                }
                            },
                            techOrder: [ 'chromecast', 'html5' ], // Required
                            // techOrder: [ 'chromecast', 'html5', 'youtube' ], // Required
                                                        plugins: {
                                
                                    chromecast: {
                                                                            },
                                    airPlay:{
                                        addButtonToControlBar: true, 
                                    }
                                
                            }
                        }

                        let upnext_title;
                        let upnext_url;
                        if(this.isEpisode && this.video.next_episode != undefined)
                        {
                            upnext_title = this.video.next_episode.title;
                            upnext_url = 'https://zixzorash.vodlix.cloud' + "/watch/" + this.video.next_episode.videoid;
                            upnext_url += "?type=series&series_id=" + this.video.next_episode.series_id + "&season_id=" + this.video.next_episode.season_id;
                        }

                        let configurations = {
                            analytics: statsConfigs,
                            core: vjsCore,
                            apiBase: this.apiBase,
                            enableVolumeScroll : false,
                            techOrder: [ 'chromecast', 'html5' ], // Required
                            logo: {
                                image: "https://vcz-zixzorash-vodlix-cloud.b-cdn.net/u/zixzorash/images/branding/custom/mobile_web_header.png?lu=1739540888",
                                position : 'top-right',
                                width : 50,
                                opacity : 0.7
                            },
                            ads: {
                                id: 'beeEx',
                                ad_type:1,
                                ad_tag: this.video.ad.ad_tag ? this.video.ad.ad_tag : this.apiBase + '/ads/vmap/' + this.video.content.videoid,
                            } ,
                            // 'youtube': { iv_load_policy: 3 }                     
                        }

                        if(this.isEpisode && this.video.next_episode !=undefined)
                        {
                                                            configurations.upnext = {
                                    timeout : 5000,
                                    headText : 'Up Next',
                                    cancelText: 'Cancel',
                                    getTitle : function() { return upnext_title },
                                    next : function () { window.location.href = upnext_url }
                                }
                            
                            configurations.nextEpisode = {
                                beforeElement : 'SettingMenuButton',
                                textControl : ' Next episode',
                                nextEp : function () { window.location.href = upnext_url }
                            }

                        }

                        // if (!window._.isEmpty(this.ads)) {
                        //     configurations.ads = this.ads;
                        // }

                        configurations.sprites = this.sprite

                        if (this.video.content_type === 3) {

                            configurations.listEpisode = {
                                beforeElement : 'SettingMenuButton',
                                textControl : 'List episode',
                                listEp : function () {
                                    var episodesList = $('.episodes-list');
                                    if (episodesList.css('display') === 'none') {
                                        episodesList.css('display', 'block');
                                    } else {
                                        episodesList.css('display', 'none');
                                    }
                                }
                            }

                        }


                        console.log("CONFIFGS", configurations);

                                                    const vplayer = BeeExPlayer(this.id, configurations);
                        
                        var content_detail_url = this.video.content.copy_url;
                        
                        // console.log("this.video", content_detail_url);
                        if(this.video.content.content_type == 5) {
                            content_detail_url = 'https://zixzorash.vodlix.cloud'
                        }

    
                        


                        vplayer.on('fullscreenchange', function() {
                            var episodeListIcon = document.querySelector('.vjs-list-episode');
                            if( episodeListIcon ) {
                                episodeListIcon.style.height = vplayer.isFullscreen() ? '55px' : '36px';
                                episodeListIcon.style.backgroundSize = vplayer.isFullscreen() ? '30px' : '18px';
                            }

                            var episodeNextIcon = document.querySelector('.vjs-next-episode');
                            if( episodeNextIcon ) {
                                episodeNextIcon.style.height = vplayer.isFullscreen() ? '55px' : '36px';
                                episodeNextIcon.style.backgroundSize = vplayer.isFullscreen() ? '25px' : '18px';
                            }

                            var chromecastIcon = document.querySelector('.vjs-chromecast-button');
                            if( chromecastIcon ) {
                                chromecastIcon.style.height = vplayer.isFullscreen() ? '55px' : '36px';
                                chromecastIcon.style.backgroundSize = vplayer.isFullscreen() ? '25px' : '18px';
                            }
                        });




                        if (this.video.content_type === 3) {
                            var currentEpisodeId = this.video.content.videoid;
                            vplayer.on('ready', function() {
                                let playerContainer = document.querySelector('.video-js');
                                var videoData = _this_object.video;
                                let episodesListMenu = document.createElement('div');
                                episodesListMenu.className = "episodes-list";
                                episodesListMenu.style.display = "none";
                                playerContainer.appendChild(episodesListMenu);

                                let hideTimeout;

                                episodesListMenu.onmouseleave = function() {
                                    hideTimeout = setTimeout(function() {
                                        episodesListMenu.style.display = "none";
                                    }, 1000);
                                };

                                episodesListMenu.onmouseenter = function() {
                                    clearTimeout(hideTimeout);
                                };

                                let controlDiv = document.createElement('div');
                                controlDiv.className = "p-2";
                                episodesListMenu.appendChild(controlDiv);

                                let seasonSelect = document.createElement('select');
                                seasonSelect.className = "form-control p-2";
                                seasonSelect.onchange = handleSeasonChange;
                                let series_id = '';
                                let first_season_id = '';

                                if(series_id == '' && videoData) {
                                    series_id = videoData.content.series_id;
                                }

                                if(first_season_id == '') {
                                    first_season_id = videoData.content.season_id;
                                }

                                window.vodlix.api.get(`/season/list/${series_id}`).then(res => {
                                    res.data.seasons.forEach(season => {
                                        let option = document.createElement('option');
                                        option.value = season.season_id;
                                        option.text = "Season " + season.sequence;
                                        seasonSelect.appendChild(option);

                                        if (first_season_id == season.season_id) {
                                            option.selected = true;
                                            populate_episodes(first_season_id, series_id);
                                        }
                                    });
                                }).catch(console.log);
                                                        
                                controlDiv.appendChild(seasonSelect);

                                let episodesContainer = document.createElement('div');
                                episodesContainer.className = "episodes-container";
                                episodesListMenu.appendChild(episodesContainer);

                                function updateEpisodes(episodes) {
                                    episodesContainer.innerHTML = '';
                                    let playingEpisodeElement = null; // To keep track of the playing episode element

                                    episodes.forEach(episode => {
                                        let episodeContainer = document.createElement('div');
                                        episodeContainer.style.textDecoration = "none";
                                        episodeContainer.style.color = "inherit";
                                        episodeContainer.style.cursor = "pointer";
                                        episodeContainer.onclick = function() {
                                            if( currentEpisodeId === episode.videoid ) {
                                                return;
                                            }
                                            window.location.href = episode.url;
                                        };
                                        let episodeDiv = document.createElement('div');
                                        episodeDiv.className = "media d-block d-sm-flex mb-3";
                                        let truncatedDescription = episode.description.length > 120 ? episode.description.substring(0, 120) + '...' : episode.description;
                                        let truncatedTitle = episode.title.length > 50 ? episode.title.substring(0, 50) + '...' : episode.title;
                                        let playingBadge = currentEpisodeId === episode.videoid ? '<span class="badge bg-primary p-1 mb-1">Playing</span><br>' : ''; // Create badge here
                                        
                                        // Add watch progress indicator if episode has been watched
                                        let progressBar = '';
                                        if (episode.last_watch_time_percentage && episode.last_watch_time_percentage > 0) {
                                            progressBar = `<div class="progress mt-1" style="height: 4px;">
                                                <div class="progress-bar bg-primary" role="progressbar" style="width: ${episode.last_watch_time_percentage}%" 
                                                aria-valuenow="${episode.last_watch_time_percentage}" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>`;
                                        }
                                        
                                        episodeDiv.innerHTML = 
                                            '<div class="img-container mb-3 mb-sm-0 mr-3">' +
                                                '<img class="episode-img" src="' + episode.thumbs.original + '">' +
                                            '</div>' +
                                            '<div class="media-body">' +
                                                '<h6 class="mt-0 mb-1"><b>' + truncatedTitle + '</b> </h6>' +
                                                playingBadge +
                                                '<small class="text-muted mb-0">' + truncatedDescription + '</small>' +
                                                progressBar +
                                            '</div>';
                                        episodeContainer.appendChild(episodeDiv);
                                        episodesContainer.appendChild(episodeContainer);


                                        if(currentEpisodeId === episode.videoid) {
                                            playingEpisodeElement = episodeContainer; // Save the reference to this element
                                        }
                                    });

                                    if(playingEpisodeElement) {
                                        playingEpisodeElement.scrollIntoView({ block: 'center', behavior: 'smooth' });
                                    }
                                }


                                function populate_episodes(season_id, series_id) {
                                    let spinner = document.createElement('div');
                                    spinner.className = "spinner-border text-primary mx-auto mt-5";
                                    spinner.style.display = "block";
                                    episodesContainer.innerHTML = '';
                                    episodesContainer.appendChild(spinner);
                                                            
                                    // First fetch the episodes
                                    window.vodlix.api.get(`/season/data?series_id=${series_id}&season_id=${season_id}&no_limit=true`).then(res => {
                                        let episodes = res.data;
                                        
                                        // Then fetch the watch progress data and merge it
                                        window.vodlix.api.get(`/v2/continueWatchTime?series_id=${series_id}`).then(watchRes => {
                                            if (watchRes && watchRes.status == 200 && watchRes.data && watchRes.data[0] && watchRes.data[0].watched_episodes) {
                                                var continue_watch_data = watchRes.data[0];
                                                var watched_episodes = continue_watch_data.watched_episodes || [];
                                                
                                                // Merge watch data with episodes
                                                episodes = episodes.map(episode => {
                                                    const watchData = watched_episodes.find(item => item.videoid === episode.videoid);
                                                    if (watchData) {
                                                        return {
                                                            ...episode,
                                                            last_watch_time: watchData.last_watch_time,
                                                            last_watch_time_percentage: watchData.last_watch_time_percentage
                                                        };
                                                    }
                                                    return episode;
                                                });
                                            }
                                            
                                            // Update the episodes display with the merged data
                                            updateEpisodes(episodes);
                                            spinner.style.display = "none";
                                        }).catch(err => {
                                            console.log("Error fetching watch data:", err);
                                            updateEpisodes(episodes);
                                            spinner.style.display = "none";
                                        });
                                    }).catch(err => {
                                        console.log(err);
                                        spinner.style.display = "none";
                                    });
                                }

                                function handleSeasonChange(event) {
                                    let selected_season_id = event.target.value;
                                    let series_id = '';
                                    populate_episodes(selected_season_id, series_id);
                                }
                            });
                        }

                        // vplayer.eme();
                        // vplayer.thumbnailSprite({
                        //     sprites: this.sprite,
                        // });

                                                
                        this.$set(this, 'player', vplayer);
                        this.addListeners();
                        this.player.on('dispose', this.removeListeners);

                                                                            
                    });
                },
                backToHandler() {
                    this.player.pause();

                    if (window.history.length > 2) {
                        return window.history.back();
                    } else {
                        return window.location.href = this.route.home;
                    }
                },
                contineWatching(){

                    if(!videoEnded)
                    {
                        //Do not call on is live
                        var current_time = this.player.currentTime();
                        var continueWatch_apiUrl = this.apiBase + '/v2/continueWatchTime';

                        var api_data = {
                            'video_id' : this.itemId,
                            'watch_time' : current_time,
                            'series_id' : this.seriesId,
                            'device_uuid' : '19f5ec5ff2900cc4a5aacecd181f458d',
                            'content_type' : this.contentType
                        };
                        //console.log( "videoEnded ",this.player.duration() , current_time );
                        if(this.player.duration() !== 0 && this.player.duration() - current_time <= 10 && !videoEnded)
                        {
                            videoEnded = true;
                            $.ajax({
                                'type': "POST",
                                'url': this.apiBase + '/v2/delete/continue-watch',
                                'data': api_data,
                                'dataType': "json"
                            })
                        }

                        if(lastTimeCheck + 15 <= current_time && !videoEnded)
                        {
                            lastTimeCheck = current_time;
                            $.ajax({
                                'type': "POST",
                                'url': continueWatch_apiUrl,
                                'data': api_data,
                                'dataType': "json",
                                error: function(response) {
                                    if(response.responseJSON.error_code == 'max_device_reached' ) {
                                        Swal.fire({
                                            icon: 'error',
                                            title: 'Max device reached',
                                            text: response.responseJSON.message,
                                            width: 600,
                                            padding: '4em',
                                            allowOutsideClick: false,
                                            showCancelButton: false,
                                            showConfirmButton: false
                                        })
                                        setTimeout(function(){
                                            window.location.href = 'https://zixzorash.vodlix.cloud';
                                        }, 2000);
                                    }

                                }
                            })

                        }

                    }


                },
                addListeners() {
                    this.player.on('backto', this.backToHandler);
                    this.player.on('timeupdate', this.contineWatching);
                    this.player.on('ready', function() {
                        $(".vjs-icon-picture-in-picture").parent().remove()
                    })

                    

                    var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === "[object SafariRemoteNotification]"; })(!window['safari'] || (typeof safari !== 'undefined' && window['safari'].pushNotification));
                    
                    var _this = this;
                    var drm_video = false;

                
                    var src = [];

                    if( _this.video.media_v2 )
                    {
                        _this.video.media_v2.forEach(media => {
                            if( media.drm_protected == 'yes' && media.drm_type == 'fairplay' && isSafari ) {
                                drm_video = true;
                                let mediaSrc = {
                                    'src': media.url,
                                    'type': media.type,
                                    keySystems: {
                                        'com.apple.fps.1_0': {
                                            certificateUri: '',
                                            licenseUri: ''
                                        }
                                    }
                                }
                                src.push(mediaSrc);
                            }
                            if( media.drm_protected == 'yes' && media.drm_type == 'widevine' && !isSafari ) {
                                drm_video = true;
                                let mediaSrc = {
                                    'src': media.url,
                                    'type': media.type,
                                    'keySystemOptions': [
                                        {
                                            'name': 'com.widevine.alpha',
                                            'options':{
                                                serverURL: '' 
                                            }
                                        }
                                    ]
                                }
                                src.push(mediaSrc);
                            }
                            if( media.drm_protected == 'yes' && media.drm_type == 'playready' && !isSafari ) {
                                drm_video = true
                                // Do something
                            }
                            if( !media.drm_protected && media.drm_protected == 'no' && media.url != '' ) {
                                drm_video = false
                                let mediaSrc = {
                                    src: media.src,
                                    'type': media.type,
                                }
                                src.push(mediaSrc);
                            }
                        });
                    }

                    if ( drm_video == false && src.length == 0 ) {
                        _this.video._media.forEach(media => {
                            drm_video = false
                            let mediaSrc = {
                                src: media.src,
                                'type': media.type,
                            }
                            src.push(mediaSrc);
                        });
                    }

                    if( drm_video == true ) {
                        _this.player.eme();
                    }

                    var catchupUrl = false;
                    

                    if( catchupUrl ) {
                        src = []
                        let mediaSrc = {
                            src: catchupUrl,
                            type: '',
                        }
                        src.push(mediaSrc);
                    }

                    
                        _this.videoSrc = src;
                        _this.player.src(src);

                    
                },
                getNonceValue(palVideoObj) {
                    return new Promise(async (resolve, reject) => {
                        let nonceLoader;
                        let nonceManager;

                        const consentSettings = new goog.pal.ConsentSettings();
                        consentSettings.allowStorage = true;
                        nonceLoader = new goog.pal.NonceLoader(consentSettings);

                        async function generateNonce() {
                            try {
                                const request = new goog.pal.NonceRequest();
                                request.adWillAutoPlay = true;
                                request.adWillPlayMuted = false;
                                request.continuousPlayback = false;
                                request.descriptionUrl = palVideoObj.copy_url;
                                request.iconsSupported = true;
                                request.playerType = 'BeeEx Player';
                                request.playerVersion = '2.6';
                                request.ppid = '';
                                request.sessionId = '7gaba314c2c9nal745irpga2qh';
                                request.supportedApiFrameworks = '2,7,9';
                                request.url = window.location.href;
                                request.videoHeight = 480;
                                request.videoWidth = 640;

                                nonceManager = await nonceLoader.loadNonceManager(request);
                                const nonce = nonceManager.getNonce();
                                // console.log('Nonce generated:', nonce);
                                return nonce;
                            } catch (error) {
                                console.error('Error generating nonce:', error.message || error);
                                reject(error);
                            }
                        }

                        try {
                            const nonceString = await generateNonce();
                            return resolve(nonceString);
                        } catch (error) {
                            reject(error);
                        }
                    });
                },
                removeListeners() {

                },
                getVideoDetail(){
                    window.vodlix.api.get(`/videos/list/${ this.rawVideo.videoid }`).then(res=>{
                        //console.log('res', res.videos.video_by_id[0] )
                        this.$set(this, "video", res.videos.video_by_id[0]);
                    }).catch(err=>{
                        console.log('err', err)
                    })
                },
                getSeriesDetail(){
                                    },
                async videoPlayable(videoid) {
                    try {
                        const response = await window.vodlix.api.post(`/v2/videos/${videoid}/playable`);
                        const { data } = response;


                        
                        if (data.length === 0) {
                            throw "Unknown error occured while fetching the content";
                            return;
                        }
                                                
                        this.$set(this, "video", data[0]);
                    } catch(e) {
                        const { responseJSON: response } = e;
                        const { data } = response;
                        this.$set(this.error, "message", response.message);
                        this.$set(this.error, "status", true);

                        if( data.publish_status ){
                            this.$set(this,'publishStatus',data.publish_status);
                        }

                        console.log( 'data', data )
                        console.log( 'response', response )

                        if (data.redirects !== undefined) {
                            this.$set(this.error, "redirects", data.redirects);
                        } else {
                            this.$set(this.error, "redirect", data.redirect);
                        }

                                                    this.getVideoDetail()
                                            }
                },
            },
            async created() {
                this.videoPlayable(this.rawVideo.videoid);
            },
            mounted() {

            },
            watch: {
                video: function (newValue, oldValue) {
                    if (!window._.isEmpty(newValue) && !this.isEmbedded) {
                        this.init();
                    }
                }
            }
        })
        
    </script>


<script type="text/javascript">
    var _loginTemplate = `
        <form 
            id="login-form" 
            onsubmit="return false;" 
            method="post"
        >
            <div class="mb-2">
                <input 
                    id="username" 
                    class="form-control mb-1" 
                    type="text" 
                    value="" 
                    placeholder="Username" 
                    v-model="usernameVal"
                    v-on:input="userNameRules"
                    autocomplete="off"
                    :disabled="isLoading"
                />
                <div class="text-danger messageDiv">
                    {{ msg.usernameVal }}
                </div>    
            </div>
            <div class="mb-2 passwordBlock">
                <input 
                    id="password" 
                    class="form-control mb-1" 
                    :type="showPassword ? 'text' : 'password'" 
                    value="" 
                    placeholder="Password" 
                    v-model="passwordVal"
                    v-on:input="passwordRules"
                    :disabled="isLoading"
                />
                <span class="eyeIcon" @click="showPassword = !showPassword">
                    <i class="mdi h4" :class="{ 'mdi-eye': !showPassword,'mdi-eye-off': showPassword }"></i>
                </span>
                <div class="text-danger messageDiv">
                    {{ msg.passwordVal }}
                </div>
            </div>

                                                <p class="text-right mb-4 forgotLink">
                        <a href="/forgot/password/" 
                            class="font-weight-noraml forgotLink caption2" 
                        >
                            Forgot Password
                        </a>
                    </p>
                                        <template  v-if="disabledCaptcha">
                <!-- <div class="mb-3">
                    <div 
                        class="g-recaptcha" 
                        data-sitekey="6Le-wvkSAAAAAPBMRTvw0Q4Muexq9bi0DJwx_mJ-"
                        data-callback='recaptchaChecked'
                    >
                    </div>
                </div> -->
            </template>
            <div class="mb-3">
                <button 
                    type="submit" 
                    class="btn btn-primary btn-lg btn-block no-shadow submitBtn text-uppercase"
                    @click="getLogin"
                    :disabled="btnDisable"
                >Login</button>
                
                                <a 
                    type="submit" 
                    href="/login-otp/"
                    class="btn btn-white btn-lg btn-block no-shadow submitBtnOTP text-uppercase mt-3"
                >Login with OTP</a>
                
                <!-- <button 
                    type="submit" 
                    class="btn btn-primary btn-lg btn-block no-shadow submitBtn text-uppercase"
                    :disabled="disabledCaptcha" 
                    @click="getLogin"
                >Login</button> -->
            </div>
                            <template v-if="hasSocialNetworks">
                    <div class="border-top border-bottom border-secondary py-3 mb-3">
                        <h6 class="text-center text-uppercase mb-3">Connect through</h6>
                                                    <template v-for="(network, index) in socialNetworks">
                                <button type="button" @click="requestAuthUrl(network)" :disabled="isLoading || loading === network.network" class="btn btn-secondary mr-2" :key="index">{{ network.name }}</button>
                            </template>
                                            </div>
                </template>
                                        <p class="greyText fw-light body-2 mb-2 text-center caption2">
                    Don't have an account? <a href="/signup/" class="blue--text text--darken-4">Create Account</a>
                </p>
                        <template v-if="showLoginNote == '1'">
            <div class="m-2 mt-3 border border-primary">
                <div class="p-2" v-html="loginNoteInHtml"></div>
            </div>
            </template>

        </form>
    `;
    Vue.component('login-form',{
        template:_loginTemplate,
        data:function(){
            return {
                usernameVal:'',
                msg:[],
                passwordVal:'',
                isLoading: false,
                loading: "",
                showPassword:false,
                minUsername:`3`,
                socialNetworks: JSON.parse('null'),
                loginWithOTP: `1`,
                disableCaptcha:`1`,
                successReq:window.vodlix.loginSuccess,
                showLoginNote: "0",
                loginNoteInHtml: ``
            }
        },
        props:{
            lasturl:{
                type:String,
                default:''
            }
        },
        computed: {
            hasSocialNetworks() {
                return this.socialNetworks && this.socialNetworks.length > 0;
            },
            disabledCaptcha() {
                return this.disableCaptcha != "1";
            },
            btnDisable(){
                // return this.usernameVal.length < this.minUsername || this.passwordVal.length < 1
                return this.usernameVal.length < 1 || this.passwordVal.length < 1
            }
        },
        methods:{
            userNameRules(){
                if ( this.usernameVal == '' )
                    this.msg['usernameVal'] = `Username is required`
                else
                    this.msg['usernameVal'] = ''
                    // else if ( this.usernameVal.length < this.minUsername )
                    //     this.msg['usernameVal'] = `Username must contain atleast ${this.minUsername} characters`
            },
            passwordRules(){
                if ( this.passwordVal == '' )
                    this.msg['passwordVal'] = `Password is required`
                else 
                    this.msg['passwordVal'] = '' 
                // else if ( this.passwordVal.length < 3 )
                //     this.msg['passwordVal'] = `Password must be alphanumeric`
            },
            getLogin(){
                var button_text = 'Logging In...'
                $(".submitBtn").attr('disabled',true)
                $(".submitBtn").html(button_text)
                window.vodlix.auth.loginUser({
                    username: this.usernameVal,
                    password: this.passwordVal
                },this.lasturl);
            },
            requestAuthUrl(network) {
                this.$set(this, "isLoading", true);
                this.$set(this, "loading", network.network);

                window.vodlix.api.get(`/v2/auth/social/${ network.network }`)
                .then(response => {
                    const { data } = response;

                    if (data.auth_url !== undefined) {
                        return window.location.href = data.auth_url;
                    } else {
                        window.vodlix.error.toast({
                            html: `No oauth url returned for ${ network.name }. Please contact <a href="mailto:$smarty.const.SUPPORT_URL">our support</a>.`
                        });
                        this.$set(this, "isLoading", false);
                        this.$set(this, "loading", "");
                    }

                }).catch(err => {
                    const { responseJSON: response } = err;
                    
                    window.vodlix.error.toast({
                        text: response.message
                    });

                    this.$set(this, "isLoading", false);
                    this.$set(this, "loading", "");
                })
            }
        },
        mounted(){
            //console.log('sdf', window.awl.baseUrl)
        },
    })
</script><script type="text/javascript">
var _seriesFavourites = `
<button type="button" 
class="boxBtn rounded-circle mr-1  "
@click="updateFavorites"
:disabled="btnDisable"
      :status="btnStatus"
      data-toggle="tooltip" data-placement="top" :title="toolTipText"
>
<i 
class="mdi"
:class="iconChanged"
></i>
</button>
`;
Vue.component('seriesFavourites',{
template:_seriesFavourites,
data: function(){
return {
btnDisable:false,
favId: this.series,
toolTip:false,
favouritesStatus:'addFavourites'
}
},
props:{
series:{
type:Object
},
},
computed:{
btnStatus(){
if ( this.series.fav_id || this.series.is_fav )
return this.favouritesStatus = 'removeFavourites'
else
return this.favouritesStatus = 'addFavourites'
},
iconChanged(){
if ( this.favouritesStatus == 'removeFavourites' )
return 'mdi-check'
else 
return 'mdi-plus plusIcon'
},
methods:{
updateFavorites(){
                let isLogin = ``
                if ( !isLogin ) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }
//console.log('status sd', this.favouritesStatus)
if ( this.favouritesStatus == 'removeFavourites' )
this.removeToFavourites()
else 
this.addToFavourites()
},
addToFavourites(){
this.btnDisable = true
                var group_id = ''
let obj = {
'series_id' : this.series.series_id,
}
let data = {
'data': obj
}
                if( group_id != '' && group_id != undefined ) {
                    data['data']['content_list_group_id'] = group_id
                }
window.vodlix.api.post('/series/addToFavourites', data).then(res=>{
window.vodlix.success.toast({
                        text: `${this.series.series_name} added to your list`
                    })
this.favouritesStatus = 'removeFavourites'
this.btnDisable = false
}).catch(err=>{
console.log(err)
this.btnDisable = false
window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
})
},
removeToFavourites(){
let obj = {
'series_id' : this.series.series_id,
}
let data = {
'data': obj
}
this.btnDisable = true
window.vodlix.api.post('/series/removeFavourite', data).then(res => {
window.vodlix.success.toast({
                        text: `${this.series.series_name} removed from your list`
                    })
this.favouritesStatus = 'addFavourites'
this.btnDisable = false
}).catch(err =>{
console.log(err)
this.btnDisable = false
window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
})
}
},
mounted(){
$(document).ready(function(){
$("body").tooltip({ selector: '[data-toggle=tooltip]' });
})
}
})
</script><script type="text/javascript">
var _template = `
<p class="mb-1" v-if="list && list.length > 0">
<span class="text-secondary">Categories: </span>
<span v-for="(cate,index) in list" :key="index">
<a
:href="link(cate.category_id)"
class="hoverUnderLineText caption2 whiteColor"
>{{ cate.category_name }}</a><template v-if="index < list.length - 1">, </template>
</span>
</p>
`
Vue.component('categories',{
template:_template,
data:function(){
return {

}
},
props:{
categories:{
type:Array
},
paths:{
type:String,
default:'movies'
}
},
computed:{
link(){
return (id) => {
return `/${this.paths}/category/${id}`
}
},
list() {
if(this.categories === undefined || this.categories === null) {
return [];
}
return this.categories.filter((cat) => {
return cat !== null && cat !== undefined
});
}
}
})
</script><script type="text/javascript">
var artistsTemplate = `
<div class="" v-if="artists && artists.length > 0">
<p class="mb-1" v-for="(role,index) in artists" :key="index">
<span class="text-secondary">{{ role.role_name }}: </span>
<template v-if="showTotalList!='all'">
                    <span v-for="(artist,_index) in role.artists" :key="_index" class="caption2" v-if="artist.first_name != null && showTotalArtists && _index <= showTotalArtists">
                        <a
                            :href="link(artist.artist_id)"
                            class="hoverUnderLineText caption2 whiteColor"
                        >{{ fullname(artist) }}</a><template v-if="_index < showTotalArtists  - 1 && _index < role.artists.length - 1">, </template>
                    </span>
                </template>
                <template v-else>
                    <span v-for="(artist,_index) in role.artists" :key="_index" class="caption2" v-if="artist.first_name != null">
                        <a
                            :href="link(artist.artist_id)"
                            class="hoverUnderLineText caption2 whiteColor"
                        >{{ fullname(artist) }}</a><template v-if="_index < role.artists.length  - 1">, </template>
                    </span>
                </template>
</p>
</div>
`
Vue.component('artists',{
template:artistsTemplate,
data:function(){
return {

}
},
props:{
artists:{
type:Array
},
types:{
type:String
},
            showTotalArtists:{
type:Number
}
},
computed:{
showTotalList(){
                if(this.showTotalArtists){
                   return  this.showTotalArtists
                }else{
                    return 'all'
                }
            },
            roleName(){
return ( name ) =>{
console.log(name)
return `name`
}
},
fullname(){
return (val) => {
if ( val.last_name !=  undefined && val.last_name != null && val.last_name != '' )
return `${val.first_name} ${val.last_name}`
else
return `${val.first_name}`
}
},
link(){
return (id) => {
return `/person/${id}?content_type=${this.types}`
}
},
}
})
</script>
<script async type="text/javascript">
    var _videoBlockDetail = `
        <div class="card no-border videoDetails">
            <div class="detailsThumb relative">
                <div class="ratio ratio-16x9">   
                    <div>
                        <template v-if="video.trailers != undefined && (emebedTrailer != '' || emebedTrailer != undefined)">
                            <div v-html="emebedIframe"></div>
                        </template>
                        <template v-if="video.trailers != undefined && (emebedTrailer == '' || emebedTrailer == undefined)">
                            <video
                                ref="moviePlayer"
                                :poster="poster"
                                autoplay muted
                                class="video-js vjs-default-skin vidlixPlayer_skin"
                                playsinline
                                crossorigin="anonymous"
                            >
                                <template v-if="hasMedia">
                                    <template v-for="(value, key) in trailer._media">
                                        <source :key="key" :src="value.src" />
                                    </template>
                                </template>
                            </video>
                        </template>
                        <template v-else-if="video.trailers == undefined && (emebedTrailer == '' || emebedTrailer == undefined) && video.thumbs">
                            <img
                                :src="video.thumbs['1920x1080'] != null ? video.thumbs['1920x1080'] : video.thumbs['original']"
                                :alt="video.title"
                                class="imgFull">
                        </template>
                    </div>
                    <!--<div class="innerRightShade"></div>-->
                    <div class="innerShade"></div>
                </div>
                <div class="overlapData insidePadding d-flex flex-column justify-content-end">
                    <div class="row no-gutters d-flex align-items-end mb-4">
                        <template v-if="portraitThumb != false">    
                            <div class="col-lg-2 col-3 pr-3">
                                <div>
                                    <div>
                                        <img :src="portraitThumb" :alt="video.title" class="fullWidth">
                                    </div>
                                </div>
                            </div>
                        </template>
                        <div class="col-lg-10 col-9 pl-3 d-lg-none d-md-none d-sm-none">
                            <div class="videoLogo">
                                <template v-if="video.logo">
                                    <img
                                        :src="video.logo"
                                        :alt="video.title"
                                    >
                                </template>
                                <template v-else>
                                    <h1 
                                        class="h4 font-weight-medium text-uppercase line-clamp2 text-wrap mb-0" 
                                        v-html="video.title"
                                    ></h1>
                                </template>
                            </div>
                        </div>    
                        <div class="col-lg-10 col-12" :class="{'p':!isMobile,'pt-3':isMobile}">
                            <div class="videoLogo mb-3 d-none d-lg-block d-md-block d-sm-block">
                                <template v-if="video.logo">
                                    <img
                                        :src="video.logo"
                                        :alt="video.title"
                                    >
                                </template>
                                <template v-else>
                                    <h1 
                                        class="h4 font-weight-medium text-uppercase line-clamp2 text-wrap mb-0" 
                                        v-html="video.title"
                                    ></h1>
                                </template>
                            </div>
                            <div class="mb-3 d-flex align-content-center">
                                <template v-if="video.live_status != 1">
                                    <span v-if="video.year == '0000' || video.year == '1970'">
                                        <span class="mr-2 textColor font-weight-light caption2">{{ displayDate(video.date_added) }}</span>
                                    </span>
                                    <span v-else>
                                        <span class="mr-2 textColor font-weight-light caption2">{{ video.year }}</span>
                                    </span>
                                </template>

                                <template v-if="video.is_tvod != 0 && video.price_tag != null">
                                    <span class="mr-2">{{ video.price_tag }}</span>
                                </template>
                                <span class="badge-secondary-outline mr-2 px-2 text-capitalize" style="line-height: normal">
                                    {{ maturityText(video.maturity_level) }}
                                </span>
                                <template v-if="video.content_type != 4">
                                    <span class="mr-2">{{ video.duration }}</span>
                                </template>
                                <template v-else-if="video.content_type == 4">
                                    <span class="mr-2 badge badge-danger p-2">LIVE</span>
                                </template>
                                <template v-if="video.mpaa_rating">
                                    <span class="badge-secondary-outline mr-2 px-2 text-capitalize" style="line-height: normal">{{ video.mpaa_rating }}</span>
                                </template>
                                </div>    
                            <template v-if="video.continue_watch == true">
                                <div class="row mb-3">
                                    <div class="col-lg-6">
                                        <div class="progress" style="height: 2px;">
                                            <div 
                                                class="progress-bar bg-danger" 
                                                role="progressbar" 
                                                :style="percantageWidth(video.last_watch_time_percentage)" 
                                                aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"
                                            ></div>
                                        </div>  
                                    </div>
                                </div>
                            </template>
                            <div class="detailsIcon flex-wrap d-flex align-items-center">
                                <template v-if="logintowatch && error.redirect">
                                    <a :href="error.redirect.value" class="btn btn-primary mr-2" v-html="error.redirect.label"></a>
                                                                    </template>
                                <template v-else>
                                    <template  v-if="video.trailers != undefined">
                                        <a :href="trailerUrl" class="btn playResumeBtn btn-sm mr-2 no-shadow">
                                            <i class="mdi mdi-play-speed iconsize"></i>
                                            <span>Trailer</span>
                                        </a>
                                    </template>
                                    <template v-if="video.continue_watch == true">
                                        <a 
                                        :href="resumeWatchTime" 
                                        class="btn playResumeBtn btn-sm mr-2 no-shadow"
                                        >
                                            <i class="mdi mdi-play iconsize mr" style="margin-left: -8px"></i>
                                            <span>Resume</span>
                                        </a>

                                    </template>
                                    <template v-else>
                                        <a 
                                            :href="playUrl" 
                                            class="btn playResumeBtn btn-sm mr-2 no-shadow"
                                        >
                                            <i class="mdi mdi-play iconsize  mr" style="margin-left: -8px"></i>
                                            <span>Play</span>
                                        </a>
                                    </template>
                                </template>
                                                                    <template v-if="video.allow_rating == 'yes'">
                                        <add-to-favourites
                                            class="rundedBtn mr-2"
                                            :video="video"
                                        ></add-to-favourites>
                                    </template>
                                    <like-video
                                        class=""
                                        :hidedislike="true"
                                        extraClasses="rundedBtn mr-2"
                                        :video="video">
                                    </like-video>
                                                                <button type="button" class="rundedBtn copyButton" data-toggle="tooltip" data-placement="top" title="Copy Url" data-clipboard-action="copy" data-clipboard-target="div#copy">
                                    <div class="d-flex align-items-center fill-height">
                                        <i class="mdi mdi-link"></i>
                                    </div>
                                </button>    
                                <div id="copy" class="copyDiv">
                                    {{ video.copy_url }}
                                </div>
                                <template v-if="video.trailers != undefined && (emebedTrailer == '' || emebedTrailer == undefined)">
                                    <button type="button" class="rundedBtn ml-2" :class="playPauseClasses"
                                    >
                                        <div class="d-flex align-items-center fill-height">
                                            <i class="mdi" :class="volumeIcon"></i>
                                        </div>
                                    </button> 
                                </template>
                            </div>
                        </div>
                    </div>    
                </div>
            </div>   
            <div class="insidePadding">
                <div class="row mb-3">
                    <div class="col-12 col-lg-8 col-md-8 col-sm-7">
                        <p v-html="video.description"></p>
                    </div>
                    <div class="col-12 col-lg-4 col-md-4 col-sm-5">
                        <categories
                            :categories="video.categories"
                            paths="movies"
                        ></categories>
                        <artists
                            :artists="artistsArr" 
                            types="movies"
                            :showTotalArtists="6"
                        ></artists>
                    </div>
                </div>
                <template v-if="relatedVideos.length > 0"> 
                    <h2 class="h5 mb-3">More Like This</h2>
                    <div class="row mb-2">
                        <div 
                            v-for="(video, index) in relatedVideos"
                            :key="index"
                            class="col-6 col-lg-4 col-md-4 col-sm-4 mb-3 "
                        >
                            <video-related 
                                :video="video"
                            ></video-related>
                        </div>
                    </div>
                </template>
                <template v-if="video.title">
                    <h2 class="mb-3 h4 font-weight-lighter">
                        <span class="font-weight-regular">About</span> 
                        <span class="font-weight-medium" v-html="video.title"></span>
                    </h2>
                    <categories
                        :categories="video.categories"
                        paths="movies"
                    ></categories>
                    <artists
                        :artists="artistsArr" 
                        types="movies"
                    ></artists>
                    <div class="mb-4">
                        <span class="grey--text caption">Maturity Level : </span>
                        <span 
                            class="badge badge-secondary text-capitalize mr-2 px-2" style="line-height: normal"
                            v-if="video.maturity_level"
                        >
                            {{ maturityText(video.maturity_level) }}
                        </span>
                        <span v-if="video.maturity_level == 'All'">Recommended for every age group</span>
                        <span v-else>
                            Recommended for {{ maturityText(video.maturity_level) }} audience
                        </span>
                    </div>
                </template>
            </div>    
        </div>    
    `;
    Vue.component('video-detail-block',{
        template:_videoBlockDetail,
        data: function(){
            return {
artistsArr:[],
relatedVideos:[],
isMobile:false,
                baseUrl:`https://zixzorash.vodlix.cloud`,
                videoid:``,
                trailer:{},
                emebedTrailer:'',
                playerMute:false,
                artistsAjax:{},
                relatedAjax:{},
                trailerPlayer:null,
                moviePlayerOptions: {
                    sprite : null,
                }
            }
        },
        props:{
            video:{
                type:Object
            },
            logintowatch:{
                type:Boolean,
                default:false
            },
            error:{
                type:Object
            },
            modal:{
                type:Boolean,
                default:false
            }
        },
        computed:{
maturityText(){
return ( text ) => {
return getFormattedMaturityLevel(text);
}
},
            percantageWidth(){
return ( percantage ) => {
//console.log( hover )
return { 'width':  `${percantage}%` }
}
},
            resumeWatchTime(){
                return this.video.watch_url + `?last_watch_time=${this.video.last_watch_time}` || `/watch/${this.video.videoid}?last_watch_time=${this.video.last_watch_time}`
            },
            playUrl(){
                return this.video.watch_url || `/watch/${this.video.videoid}`
            },
            trailerUrl(){
                return `/watch/${this.video.trailers.trailer_id}`
            },
            portraitThumb(){
                if(  this.video.portrait_thumbs && ( this.video.portrait_thumbs['320x480'] || this.video.portrait_thumbs['480x720'] ) )
                    return this.video.portrait_thumbs['320x480'] || this.video.portrait_thumbs['480x720'] || this.video.portrait_thumbs.original
                else
                    return false;
            },
            hasMedia() {
                return this.trailer._media && this.trailer._media.length > 0;
            },
            poster() {
                return this.video.thumbs && (this.video.thumbs.original || this.video.thumbs['1280x720']);
            },
            emebedIframe(){
                return this.emebedTrailer
            },
            volumeIcon(){
                return this.playerMute ? 'mdi-volume-high' : 'mdi-volume-variant-off'
            },
            playPauseClasses(){
                return this.modal ? 'playPauseModal' : 'playPausePage'
            }
},
methods:{
            displayDate(date) {
                if (date && !Number.isInteger(date)) {
                    date = Date.parse(date);
                }

                const displayDateFormat = 'd F Y';

                if (displayDateFormat) {
                    return this.formatDateCustom(date, displayDateFormat);
                }

                return this.formatDateCustom(date, "Y-m-d");
            },
            formatDateCustom(date, format) {
                const d = new Date(date);
                const year = d.getFullYear();
                const month = String(d.getMonth() + 1).padStart(2, "0");
                const day = String(d.getDate()).padStart(2, "0");

                return format.replace("Y", year).replace("m", month).replace("d", day);
            },
getArtists(){
                let _this = this
                // if ( !_.isEmpty(this.artistsAjax) )
                //     this.artistsAjax.abort();
                
                this.artistsAjax = window.vodlix.api.get(`/content_artists?content_id=${this.video.videoid}&content_type=1&info=true`);

                let artistsPromise = this.artistsAjax.then(res=>{
//console.log('res',res )
this.$set(this, 'artistsArr', res.data )
                }).catch(err=>{
console.log('err', err)
}).always(always=>{
                    _this.artistsAjax = {}
                });

},
getRelatedVideos(){
                let _this = this

                var apiURL = `/related/content/${this.video.videoid}/${this.video.content_type}`;
                
                // if ( !_.isEmpty(this.relatedAjax) )
                //     this.relatedAjax.abort();
                this.relatedAjax = window.vodlix.api.get(apiURL);

let relatedPromise = this.relatedAjax.then(res=>{
this.$set(this, 'relatedVideos', res.data)
if ( this.relatedVideos.length == 0){
let videoCategories = this.video.categories[0].category_id;
window.vodlix.api.get(`/videos/list/?categories=${videoCategories}&exclude_video=${this.video.videoid}`).then(res=>{
this.relatedVideos = res.videos.category_videos[videoCategories];
this.$set(this, 'relatedVideos', res.videos.category_videos[videoCategories] )
}).catch(err=>{
console.log('err', err)
})
                    }

}).catch(err=>{
console.log('err', err)
}).always(always=>{
                    _this.relatedAjax = {}
                });
},
getMobileDevice(){
let isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
if ( window.innerWidth < 767 || isMobile )
this.isMobile = true
else
this.isMobile = false
},
            loginWatch(){
                $('#username').focus();
            },
            trailerVideo(){
                window.vodlix.api.post(`/v2/videos/${this.video.trailers.trailer_id}/playable`).then(res=>{
    //console.log('res',res )
this.$set(this, 'trailer', res.data[0] )
                    this.$set(this, 'emebedTrailer', res.data[0].content.embed_code )
}).catch(err=>{
console.log('err', err)
})
            },
            init( refs, options ){
                this.$nextTick(() => {
                    this.trailerPlayer = BeeExPlayer(refs, options);
                    const modalBox_trailer_muted = '0';
                    if( modalBox_trailer_muted == 0 || modalBox_trailer_muted == '0' ) {
                        this.trailerPlayer.muted(false);
                        if( this.trailerPlayer.muted() == false ) {
                            this.playerMute = true
                            $(".playPauseModal").addClass("active");
                        } else {
                            this.playerMute = false
                            $(".playPauseModal").removeClass("active");
                        }
                    }
                })
            }
        },
        beforeDestroy() {
            if ( this.trailerPlayer && typeof this.trailerPlayer.dispose === 'function')
                this.trailerPlayer.dispose();
        },
mounted(){
            let _this = this
$('.videoDetailModal').on('shown.bs.modal', function (event) {
                
                if ( _this.video.trailers != undefined)
                    _this.trailerVideo();

_this.getArtists()
                _this.getRelatedVideos()
$("body").tooltip({ selector: '[data-toggle=tooltip]' });

})
            $('.videoDetailModal').on('hidden.bs.modal', function (event) {
                if ( !_.isEmpty(_this.artistsAjax) )
                    _this.artistsAjax.abort();
                if ( !_.isEmpty(_this.relatedAjax) )
                    _this.relatedAjax.abort();
                window.apps.modalvideo.video = {}
_this.artistsArr = []
_this.relatedVideos = []
                _this.trailer = {},
                _this.emebedTrailer = ''
                _this.playerMute = false
                _this.trailerPlayer = {}


                if ( !_.isEmpty(_this.trailerPlayer) && _this.trailerPlayer)
                        _this.trailerPlayer.muted(true)

                $('.detailsThumb').find('iframe').remove();
                $('.detailsThumb').find('.video-js').remove();
                $('.iframePlayPause').remove('active');
                $('body').removeClass('modal-open');
                $('.modal-backdrop').remove();

            })

            if ( _this.modal != true && !_.isEmpty(_this.video) )
            {
                this.getArtists()
                this.getRelatedVideos()
                if ( this.video.trailers != undefined){
                    this.trailerVideo()
                }
            }
            $(document).ready(function(){
$("body").tooltip({ selector: '[data-toggle=tooltip]' });
                var clipboard = new Clipboard('.copyButton');
                
                $(document.body).on('click', '.playPauseModal, .playPausePage' ,function(){
                    
                    $(this).toggleClass('active')

                    if ( $(this).hasClass('active') ){
                        _this.trailerPlayer.muted(false)
                        _this.playerMute = true
                    }
                    else{
                        _this.trailerPlayer.muted(true)
                        _this.playerMute = false
                    }

                });

                clipboard.on('success', function(e) {
                    console.log(e);
                    window.vodlix.success.toast({
                        html: `Copied`
                    });
                });
                clipboard.on('error', function(e) {
                    console.log(e);
                });
})
this.getMobileDevice()
window.addEventListener("resize", this.getMobileDevice );
},
        watch: {
            trailer: function (newValue, oldValue) {
                // console.log('newValue', newValue )
                // console.log('oldValue', oldValue )
                //this.trailer = newValue
                this.init(this.$refs.moviePlayer, this.moviePlayerOptions);
            },
        }
    })
</script>
<script type="text/javascript">
var _addToFavourites = `
<button 
type="button" 
class="boxBtn rounded-circle mr-1"
@click="updateFavorites"
:disabled="btnDisable"
      :status="btnStatus"
      data-toggle="tooltip" data-placement="top" :title="toolTipText"
>
<i 
class="mdi"
:class="iconChanged"
></i>
</button>
`;
Vue.component('addToFavourites',{
template:_addToFavourites,
data: function(){
return {
btnDisable:false,
favId: this.video.fav_id,
toolTip:false,
favouritesStatus:'addFavourites'
}
},
props:{
video:{
type:Object
},
},
computed:{
btnStatus(){
if ( this.video.fav_id || this.video.is_favourite != null || this.video.is_favourite != undefined  )
return this.favouritesStatus = 'removeFavourites'
else
return this.favouritesStatus = 'addFavourites'
},
iconChanged(){
if ( this.favouritesStatus == 'removeFavourites' )
return 'mdi-check'
else 
return 'mdi-plus'
},
methods:{
updateFavorites(){
                let isLogin = ``
                if ( !isLogin ) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }
//console.log('status sd', this.favouritesStatus)
if ( this.favouritesStatus == 'removeFavourites' )
this.removeToFavourites()
else 
this.addToFavourites()
},
addToFavourites(){
this.isLoading = true
this.btnDisable = true
this.toolTip = true
                var group_id = ''
let videoObj = {
'videoid' : this.video.videoid,
}
let data = {
'data': videoObj
}
                if( group_id != '' && group_id != undefined ) {
                    data['data']['content_list_group_id'] = group_id
                }
                console.log(data);
window.vodlix.api.post('/videos/addToFavourites', data).then(res=>{
window.vodlix.success.toast({
                        text: `${this.video.title} added to your list`
                    })
this.favouritesStatus = 'removeFavourites'
this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
}).catch(err=>{
console.log(err)
this.btnDisable = false
window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                    $('[data-toggle=tooltip]').tooltip('dispose')
})
},
removeToFavourites(){
let videoObj = {
'videoid' : this.video.videoid,
}
let data = {
'data': videoObj
}
this.btnDisable = true
window.vodlix.api.post('/videos/removeFavourite', data).then(res => {
window.vodlix.success.toast({
                        text: `${this.video.title} removed from your list`
                    })
this.favouritesStatus = 'addFavourites'
this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
}).catch(err =>{
console.log(err)
this.btnDisable = false
window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                    $('[data-toggle=tooltip]').tooltip('dispose')
})
}
},
mounted(){
$(document).ready(function(){
$("body").tooltip({ selector: '[data-toggle=tooltip]' });
})
}
})
</script>    <script type="text/javascript">
    var _likeVideo = `
    <div class="d-flex">
            <button 
                type="button" 
                class="boxBtn rounded-circle mr-1"
                :class="extraClasses"
                @click="likeVideo"
                :disabled="btnDisable"
          data-toggle="tooltip" data-placement="top" :title="likeToolTipText"
            >
                <i 
                    class="mdi"
                    :class="rated"
                ></i>
            </button>
            <button 
                v-if="hidedislike"
                type="button" 
                class="boxBtn rounded-circle mr-1"
                :class="extraClasses"
                @click="dislikeVideo"
                :disabled="btnDisable"
                data-toggle="tooltip" data-placement="top" :title="dislikeToolTipText"
            >
                <i 
                    class="mdi"
                    :class="unRated"
                ></i>
            </button>
            </div>
      
`;
    Vue.component('likeVideo', {
        template: _likeVideo,
        data: function () {
            return {
                btnDisable: false,
                like: '',
                dislike: '',
                likeStatus: 'like',
                videoRated: this.video.rate
            }
        },
        props: {
            video: {
                type: Object
            },
            extraClasses: {
                type: String
            },
            type: {
                type: Number,
                default: 1
            },
            hidedislike: {
                type: Boolean,
                default: false
            }
        },
        computed: {
            rated() {
                if (this.videoRated == 1)
                    return 'mdi-thumb-up'
                else
                    return 'mdi-thumb-up-outline'
            },
            unRated() {
                if (this.videoRated == -1)
                    return 'mdi-thumb-down'
                else
                    return 'mdi-thumb-down-outline'
            },
            
            dislikeToolTipText() {
                if (this.videoRated == -1)
                    return `Rated`
                else
                    return `Not For Me`
            },
            checkIds() {
                if (this.type == 1)
                    return this.video.videoid
                else
                    return this.video.series_id
            }
        },
        methods: {
            likeVideo() {
                let isLogin = ``
                if (!isLogin) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }

                let obj = {
                    'content_type': this.type, // 1= movie 2 = series
                    'content_id': this.checkIds, //could be videoid and series
                    'rate': 1  // for like 1,  -1 for dislike, 0 for neutral
                }
                let data = {
                    'data': obj
                }
                this.btnDisable = true
                window.vodlix.api.post('/v2/rate', data).then(res => {
                    //console.log('res', res )
                    if (res.data.upvotes != 0)
                        this.videoRated = 1
                    else
                        this.videoRated = 0

                    this.btnDisable = false
                    console.log(this.videoRated);
                    $('[data-toggle=tooltip]').tooltip('dispose')
                }).catch(err => {
                    console.log(err)
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                    window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                })
            },
            dislikeVideo() {
                let isLogin = ``
                if (!isLogin) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }
                let obj = {
                    'content_type': this.type, // 1= movie 2 = series
                    'content_id': this.checkIds, //could be videoid and series
                    'rate': -1  // for like 1,  -1 for dislike, 0 for neutral
                }
                let data = {
                    'data': obj
                }
                this.btnDisable = true
                window.vodlix.api.post('/v2/rate', data).then(res => {
                    //console.log('res', res )
                    if (res.data.downvotes != 0)
                        this.videoRated = -1
                    else
                        this.videoRated = 0
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                }).catch(err => {
                    console.log(err)
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                    window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                })
            },
        },
        mounted() {
            $(document).ready(function () {
                $("body").tooltip({ selector: '[data-toggle=tooltip]' });
            })
        }
    })
</script><script type="text/javascript">
var _template = `
<p class="mb-1" v-if="list && list.length > 0">
<span class="text-secondary">Categories: </span>
<span v-for="(cate,index) in list" :key="index">
<a
:href="link(cate.category_id)"
class="hoverUnderLineText caption2 whiteColor"
>{{ cate.category_name }}</a><template v-if="index < list.length - 1">, </template>
</span>
</p>
`
Vue.component('categories',{
template:_template,
data:function(){
return {

}
},
props:{
categories:{
type:Array
},
paths:{
type:String,
default:'movies'
}
},
computed:{
link(){
return (id) => {
return `/${this.paths}/category/${id}`
}
},
list() {
if(this.categories === undefined || this.categories === null) {
return [];
}
return this.categories.filter((cat) => {
return cat !== null && cat !== undefined
});
}
}
})
</script><script type="text/javascript">
var artistsTemplate = `
<div class="" v-if="artists && artists.length > 0">
<p class="mb-1" v-for="(role,index) in artists" :key="index">
<span class="text-secondary">{{ role.role_name }}: </span>
<template v-if="showTotalList!='all'">
                    <span v-for="(artist,_index) in role.artists" :key="_index" class="caption2" v-if="artist.first_name != null && showTotalArtists && _index <= showTotalArtists">
                        <a
                            :href="link(artist.artist_id)"
                            class="hoverUnderLineText caption2 whiteColor"
                        >{{ fullname(artist) }}</a><template v-if="_index < showTotalArtists  - 1 && _index < role.artists.length - 1">, </template>
                    </span>
                </template>
                <template v-else>
                    <span v-for="(artist,_index) in role.artists" :key="_index" class="caption2" v-if="artist.first_name != null">
                        <a
                            :href="link(artist.artist_id)"
                            class="hoverUnderLineText caption2 whiteColor"
                        >{{ fullname(artist) }}</a><template v-if="_index < role.artists.length  - 1">, </template>
                    </span>
                </template>
</p>
</div>
`
Vue.component('artists',{
template:artistsTemplate,
data:function(){
return {

}
},
props:{
artists:{
type:Array
},
types:{
type:String
},
            showTotalArtists:{
type:Number
}
},
computed:{
showTotalList(){
                if(this.showTotalArtists){
                   return  this.showTotalArtists
                }else{
                    return 'all'
                }
            },
            roleName(){
return ( name ) =>{
console.log(name)
return `name`
}
},
fullname(){
return (val) => {
if ( val.last_name !=  undefined && val.last_name != null && val.last_name != '' )
return `${val.first_name} ${val.last_name}`
else
return `${val.first_name}`
}
},
link(){
return (id) => {
return `/person/${id}?content_type=${this.types}`
}
},
}
})
</script><script type="text/javascript">
var _relatedVideo = `
<div class="no-border fill-height"
:class="{'listMenu':list, 'cardBg': !list, 'fill-height': !list }"
:style="bgColor"
@mouseenter="hover = true"
@mouseleave="hover = false"
>
<a :href="uri" class="relative mb-3 img d-block">
<div class="ratio ratio-16x9 progressBar">
<div class="relative">
                        <div class="playBtn" v-if="hover">
                            <button type="button" class="btn btn-outline-primary text-primary rounded-circle btn-sm mr-1">
                                <i class="mdi mdi-play iconize"></i>
                            </button>
                        </div>
<img 
:src="(hover && video.gif != null) ? video.gif : video.thumbs['768x432'] || video.thumbs['original']"
class="imgFull"
:alt="video.title"
>
                        <template v-if="list && video.last_watch_time_percentage">
                            <div class="progress" style="height: 3px; position: absolute; bottom: 0; width: 100%;">
                                <div 
                                    class="progress-bar bg-danger" 
                                    role="progressbar" 
                                    :style="percantageWidth(video.last_watch_time_percentage)" 
                                    aria-valuenow="25" 
                                    aria-valuemin="0" 
                                    aria-valuemax="100"
                                ></div>
                            </div>
                        </template>
</div>
</div>
<div class="card-img-overlay p-1">
<div class="text-right" v-if="!list">
                        <template v-if="video.content_type != 4">
<span class="mr-2 whiteColor">{{ video.duration }}</span>
                        </template>
                        <template v-else-if="video.content_type == 4">
                            <span class="mr-2 badge badge-danger p-2">LIVE</span>
                        </template>
</div>
</div> 
</a>
<div class="" :class="{'px-2': !list,'py-0': list, 'py-2': list, 'pl-2 fullWidth d-flex flex-column': list  }">
<template v-if="list">
<div class="ma-0 d-flex align-items-center justify-content-between mb-2 pr-4">
                        <a :href="uri" class="whiteColor text-decoration-none line-clamp-title">
                            <h2 
                                v-html="video.title" 
                                class="h6 font-weight-medium mb-0"
                            ></h2>
                        </a>
<span v-if="list" class="font-weight-medium body-2">{{ video.duration }}</span>
</div>
</template>
<template v-else>
<div class="ma-0" justify="space-between">
                        <a :href="uri" class="whiteColor text-decoration-none line-clamp-title">
                            <h2 
                                v-html="video.title" 
                                class="h6 font-weight-medium mb-2"
                                data-toggle="tooltip" data-placement="top" v-bind:title="video.title"
                            ></h2>
                        </a>
</div>
</template>
<template v-if="!list">
<p class="">
<span class="badge badge-secondary text-capitalize mr-2 px-2" style="line-height: normal">
 {{ maturityText(video.maturity_level) }}
</span>
<span class="mr-2">
{{ displayDate(video.date_added) }}
</span>
</p>
</template>
                <a :href="uri" class="whiteColor text-decoration-none">
                    <p v-html="video.description" class="vid-description mb-2 text-white-50" 
                        :class="{ 'line-clamp': !list, 'line-clamp2': list }"
                    ></p>
                </a>
</div>
</div>
`
Vue.component('videoRelated', {
template: _relatedVideo,
data: function(){
return {
hover:false,
}
},
props:{
video:{
type:Object
},
list:{
type:Boolean,
default:false
}
},
computed:{
maturityText(){
return ( text ) => {
let value = text.replace('_plus','+')
return value
}
},
            uri(){
                if ( this.list )
return `/watch/${this.video.videoid}?type=series&series_id=${this.video.series_id}&season_id=${this.video.season_id}`
else
                    return `/movies/${this.video.videoid}`
//return `/watch/${this.video.videoid}`
},
bgColor(list){
return ( list ) => {
return list ? { 'background-color':  '#2f2f2f !important' } : {}
}
},
},
        methods:{
            displayDate(date) {
                if (date && !Number.isInteger(date)) {
                    date = Date.parse(date);
                }

                const displayDateFormat = 'd F Y';

                if (displayDateFormat) {
                    return this.formatDateCustom(date, displayDateFormat);
                }

                return this.formatDateCustom(date, "Y-m-d");
            },
            formatDateCustom(date, format) {
                const d = new Date(date);
                const year = d.getFullYear();
                const month = String(d.getMonth() + 1).padStart(2, "0");
                const day = String(d.getDate()).padStart(2, "0");

                return format.replace("Y", year).replace("m", month).replace("d", day);
            },
            percantageWidth(percentage) {
                return { width: `${percentage}%` };
            }
        },
mounted(){
//console.log('video dd', this.video )
$(document).ready(function(){
                $(".vid-description").hover(
                    function(){ $(this).removeClass('line-clamp2') },
                    function(){ $(this).addClass('line-clamp2') }
                );
$("body").tooltip({ selector: '[data-toggle=tooltip]' });
})
}
})
</script>
<!-- :src="video.gif != null ? video.gif : video.thumbs['768x432']" -->
<script type="text/javascript">
    var _seriesBlockDetail = `
        <div class="card no-border videoDetails" v-if="series.thumbs">
            <div class="detailsThumb relative">
                <div class="ratio ratio-16x9">    
                    <div>
                        <template v-if="series.trailer != undefined && (emebedTrailer != '' || emebedTrailer != undefined)">
                            <div v-html="emebedIframe"></div>
                        </template>
                        <template v-if="series.trailer != undefined && (emebedTrailer == '' || emebedTrailer == undefined)">
                            <video
                                ref="seriesPlayer"
                                :poster="poster"
                                autoplay muted
                                class="video-js vjs-default-skin vidlixPlayer_skin"
                                playsinline
                                crossorigin="anonymous"
                            >
                                <template v-if="hasMedia">
                                    <template v-for="(value, key) in trailer._media">
                                        <source :key="key" :src="value.src" />
                                    </template>
                                </template>
                            </video>
                        </template>
                        <template v-else-if="series.trailer == undefined && (emebedTrailer == '' || emebedTrailer == undefined) && series.thumbs">
                            <img
                                :src="series.thumbs['632x395'] || series.thumbs['416x260'] || series.thumb"
                                class="imgFull"
                                :alt="series.series_name"
                            />
                        </template>
                    </div>
                    <!--<div class="innerRightShade"></div>-->
                    <div class="innerShade"></div>
                </div>
                <div class="overlapData insidePadding d-flex flex-column justify-content-end">
                    <div class="row no-gutters d-flex align-items-end mb-4">
                        <template v-if="portraitThumb != false">
                            <div class="col-lg-2 col-3 pr-3">
                                <div class="ratio portrait">
                                    <div>
                                        <img :src="portraitThumb" :alt="series.series_name" class="fullWidth">
                                    </div>
                                </div>
                            </div>
                        </template>
                        <div class="col-lg-10 col-9 pl-3 d-lg-none d-md-none d-sm-none">
                            <div class="videoLogo">
                                <template v-if="series.logo">
                                    <img
                                        :src="series.logo"
                                        :alt="series.series_name"
                                    >
                                </template>
                                <template v-else>
                                    <h2 
                                        class="h4 font-weight-medium text-uppercase line-clamp2 text-wrap mb-3" 
                                        v-html="series.series_name"
                                    ></h2>
                                </template>
                            </div>
                        </div>
                        <div class="col-lg-10 col-12" :class="{'pl-3':!isMobile,'pt-3':isMobile}">
                            <div class="videoLogo mb-3 d-none d-lg-block d-md-block d-sm-block">
                                <template v-if="series.logo">
                                    <img
                                        :src="series.logo"
                                        :alt="series.series_name"
                                    >
                                </template>
                                <template v-else>
                                    <h2 
                                        class="h4 font-weight-medium text-uppercase line-clamp2 text-wrap mb-3" 
                                        v-html="series.series_name"
                                    ></h2>
                                </template>
                            </div>
                            <div class="mb-3 d-flex align-content-center">
                                <template 
                                    v-if="series.start_released_date == '0000-00-00' || series.start_released_date == null || series.start_released_date == ''">
                                    <span class="mr-2">{{ series.year }}</span>
                                </template>
                                <template v-else>
                                    <span class="mr-2">{{ startReleasedDate }}</span>
                                </template>
                                <template v-if="series.is_tvod != 0 && series.price_tag != null">
                                    <span class="mr-2">{{  series.price_tag }}</span>
                                </template>
                                <span class="badge-secondary-outline mr-2 px-2 text-capitalize" style="line-height: normal">
                                    {{ maturityText(series.maturity_level)  }}
                                </span>
                                <span class="mr-2">{{ allSeasons(series.season_count) }}</span>
                                <span v-if="series.mpaa_rating" class="badge-secondary-outline mr-2 px-2 text-capitalize" style="line-height: normal">{{ series.mpaa_rating }}</span>
                            </div>
                            <div class="detailsIcon d-flex align-items-center">
                                <template  v-if="series.trailer != undefined">
                                    <a :href="trailerUrl" class="btn playResumeBtn btn-sm mr-2 no-shadow">
                                        <i class="mdi mdi-play-speed iconsize"></i>
                                        Trailer
                                    </a>
                                </template>
                                <template v-if="series.continue_watch == true">
                                    <a 
                                    href="javascript:void(0)"
                                    @click="playContinueWatchEpisode(series, true)"
                                    class="btn playResumeBtn btn-sm mr-2 no-shadow"
                                    >
                                        <i class="mdi mdi-play iconsize"></i>
                                        Resume
                                    </a>
        
                                </template>
                                <template v-else>
                                    <a 
                                        href="javascript:void(0)"
                                        @click="getFirstSeasonEpisodes(series, false)"
                                        class="btn playResumeBtn btn-sm mr-2 no-shadow"
                                    >
                                        <i class="mdi mdi-play iconsize"></i>
                                        Play
                                    </a>
                                </template>
                                                                <template v-if="series.allow_rating == 'yes'">
                                    <series-favourites
                                        class="rundedBtn mr-2"
                                        :series="series"
                                    ></series-favourites>
                                </template>
                                <like-video
                                    class=""
                                    :hidedislike="true"
                                    extraClasses="rundedBtn mr-2"
                                    :type="2"
                                    :video="series"></like-video>
                                                                <div id="copyseriesLink" class="copyDiv">
                                    {{ series.copy_url }}
                                </div>
                                <button type="button" class="rundedBtn mr-2 copyButton" data-toggle="tooltip" data-placement="top" title="Copy Url" data-clipboard-action="copy" data-clipboard-target="div#copyseriesLink">
                                    <i class="mdi mdi-link"></i>
                                </button>
                                <template v-if="series.trailer != undefined && (emebedTrailer == '' || emebedTrailer == undefined)">
                                    <button type="button" class="rundedBtn iframePlayPauseSeries"
                                    >
                                        <div class="d-flex align-items-center fill-height">
                                            <i class="mdi" :class="volumeIcon"></i>
                                        </div>
                                    </button> 
                                </template>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="insidePadding">
                <div class="row mb-3 mt-2">
                    <div class="col-12 col-lg-8 col-md-8 col-sm-7">
                        
                        <p v-html="series.series_description"></p>
                    </div>
                    <div class="col-12 col-lg-4 col-md-4 col-sm-5">
                        <categories
                            :categories="series.categories"
                            paths="tv-shows"
                        ></categories>
                        <artists
                            :artists="artistsArr" 
                            types="series"
                            :showTotalArtists="6"
                        ></artists>
                    </div>
                </div>
                <template v-if='seasons && seasons.length > 0'>
                    <div class="row mb-3">
                        <div class="col col-lg-8 col-md-8 col-sm-7">
                            <h2 class="mb-3 h4 font-weight-lighter">
                                Episodes
                            </h2>
                        </div>
                        <div class="col col-lg-4 col-md-4 col-sm-5">
                            <div class="mb-4">
                                <select 
                                    class="form-select form-control" aria-label="Default select example"
                                    required
                                    @change="seasonChange($event.target.value)"
                                >
                                    <!-- <option disabled selected value="" class="firstOption">Season 1</option> -->
                                    <option v-for="season in seasons" :value="season.season_id">{{ season.sequence }}</option>
                                </select>
                            </div>
                        </div>
                        <div 
                            class="col-12"
                            v-for="(video, index) in episodes"
                            :key="index++"
                        >
                            <div class="row d-flex align-content-center justify-content-center">
                                                                <div class="col-1 col-lg-1 col-md-1 col-sm-1 text-center" :class="{'px-0':isMobile}">
                                    <span class="seriesIndex font-weight-regular">{{ video.sequence }}</span>
                                </div>
                                                                <div class="col-10 col-lg-11 col-md-11 col-sm-11 pl-0" :class="{'pr-0':isMobile}">
                                    <video-related  :list="true" :video="video"></video-related>
                                </div>
                            </div>
                            <div class="">
                                <hr />
                            </div>
                        </div>
                        <template v-if="comingSoonMessage">
                            <div 
                                class="col-12">
                                <p class="h6 pt-2 text-center">Coming Soon</p>
                            </div>
                        </template>
                        <template v-if="page < lastPage">
                            <div 
                                class="col-12 text-center loadMoreIcon">
                                <button 
                                    class="btn btn-outline-white rounded-circle btn-sm no-shadow"
                                    @click="loadMoreEpisode"
                                >
                                    <i class="mdi mdi-chevron-down"></i>
                                </button>
                            </div>
                            <!-- <div class="d-flex justify-content-center loadMoreIcon">
                                <button 
                                    class="btn btn-outline-white rounded-circle btn-sm no-shadow"
                                    @click="loadMoreEpisode"
                                >
                                    <i class="mdi mdi-chevron-down"></i>
                                </button>
                            </div> -->
                        </template>
                    </div>
                </template>
                <template v-if="relatedSeries.length > 0"> 
                    <h2 class="h5 mb-3">More Like This</h2>
                    <div class="row mb-2">
                        <div 
                            v-for="(series, index) in relatedSeries"
                            :key="index"
                            class="col-6 col-lg-4 col-md-4 col-sm-4 mb-3 "
                        >
                            <series-related 
                                :series="series"
                            ></series-related>
                        </div>
                    </div>
                </template>
                <template v-if="series.series_name">
                    <h2 class="mb-3 h4 font-weight-lighter">
                        <span class="font-weight-regular">About</span> 
                        <span class="font-weight-medium" v-html="series.series_name"></span>
                    </h2>
                    <categories
                        :categories="series.categories"
                        paths="tv-shows"
                    ></categories>
                    <artists
                        :artists="artistsArr" 
                        types="series"
                    ></artists>
                    <div class="mb-4">
                        <span class="grey--text caption">Maturity Level : </span>
                        <span 
                            class="badge badge-secondary text-capitalize mr-2 px-2" style="line-height: normal"
                            v-if="series.maturity_level"
                        >
                            {{ maturityText(series.maturity_level) }}
                        </span>
                        <span v-if="series.maturity_level == 'All'">Recommended for every age group</span>
                        <span v-else>
                            Recommended for {{ maturityText(series.maturity_level) }} audience
                        </span>
                    </div>
                </template>
            </div>
        </div>
    `;
    Vue.component('series-detail-block',{
        template:_seriesBlockDetail,
        data: function(){
            return {
                artistsArr:[],
relatedSeries: [],
episodes:[],
seasons:[],
selectedSeasonId:'',
comingSoonMessage:false,
firstSeason:{},
message:'testing for you',
page:1,
lastPage:'',
baseUrl:`https://zixzorash.vodlix.cloud`,
                isMobile:false,
                artistsAjax:{},
                relatedAjax:{},
                seasonsAjax:{},
                episodesAjax:{},
                trailer:{},
                emebedTrailer:'',
                vplayer:null,
                playerMute:false,
                playerConfigurations: {
                    sprite : null,
                }
            }
        },
        props:{
            series:{
                type:Object
            },
            logintowatch:{
                type:Boolean,
                default:false
            },
            modal:{
                type:false,
                default:false
            }
        },
        computed:{
startReleasedDate(){
//console.log( 'this.series.start_released_date asd', this.series.start_released_date )
if ( this.series.start_released_date != undefined ){
let fullDate = this.series.start_released_date
letyear = fullDate.split('-')
return year[0]
}
},
maturityText(){
return ( text ) => {
return getFormattedMaturityLevel(text);
}
},
allSeasons(){
return (seasons) => {
if ( seasons != undefined && seasons != '' && seasons != null ){
if (seasons == 1)
return seasons + ' ' + `Season`
else
return seasons + ' ' + `Seasons`
}
}
},
seriesThumb() {
                return this.series.thumbs["632x395"] || this.series.thumbs["416x260"] || this.series.thumb;
            },
            seriesName(){
            return this.series.series_name
            },
            seriesId(){
            return this.id = `media-${this.series.series_id}`
            },
            percantageWidth(){
return ( percantage ) => {
//console.log( hover )
return { 'width':  `${percantage}%` }
}
},
            resumeWatchTime(){
                return `/watch/${this.series.first_episode_id}?type=series&series_id=${this.series.series_id}&season_id=${this.series.last_watch_episode_id}&last_watch_time=${this.series.last_watch_time}`
            },
            playUrl(){
                return `/watch/${this.series.first_episode_id}?type=series&series_id=${this.series.series_id}&season_id=${this.series.first_season_id}`
            },
            trailerUrl(){
                return `/watch/${this.series.trailer.trailer_id}`
            },
            portraitThumb(){
                if( this.series.portrait_thumbs && ( this.series.portrait_thumbs['480x720'] || this.series.portrait_thumbs['320x480'] ) )
                    return this.series.portrait_thumbs['320x480'] || this.series.portrait_thumbs['480x720'] || this.series.portrait_thumbs.original
                else
                    return false;
            },
            hasMedia() {
                return this.trailer._media && this.trailer._media.length > 0;
            },
            poster() {
                return this.series.thumbs && (this.series.thumbs.original || this.series.thumbs['1280x720']);
            },
            emebedIframe(){
                return this.emebedTrailer
            },
            volumeIcon(){
                return this.playerMute ? 'mdi-volume-high' : 'mdi-volume-variant-off'
            },
},
        methods:{
getArtists(){
                let _this = this
                this.artistsAjax = window.vodlix.api.get(`/content_artists?content_id=${this.series.series_id}&content_type=2&info=true`);
let artistsPromise = this.artistsAjax.then(res=>{
//console.log('res',res )
this.$set(this, 'artistsArr', res.data )
}).catch(err=>{
//console.log('err', err)
}).always(always=>{
                    _this.artistsAjax = {}
                });
},
seasonChange(val){
                this.selectedSeasonId = val
//console.log( val )
this.$set(this, "page", 1);
this.getSeasonEpisodes(val)
},
getSeasonList( load_more = false ){
                let _this = this
                this.seasonsAjax = window.vodlix.api.get(`/season/list/${this.series.series_id}`);

let seasonsPromise = this.seasonsAjax.then(res=>{
let seasonsArray = res.data.seasons
let appendText = seasonsArray.map(item => {
let text = 'Season' + ' ' + item.sequence
item.sequence = text
return item
})
this.seasons = appendText;

                    if( load_more == true ) {
                        if( this.selectedSeasonId == '' || this.selectedSeasonId == undefined || this.selectedSeasonId == false ) {
                            this.selectedSeasonId = this.seasons[0].season_id;
                        }
                        this.getSeasonEpisodes(this.selectedSeasonId)
                    } else {
                        this.getSeasonEpisodes(this.seasons[0].season_id)
                    }
//console.log( 'this.seasons', this.seasons )

}).catch(err=>{
//console.log('err', err)
}).always(always=>{
                    _this.seasonsAjax = {}
                });

},
getSeasonEpisodes(obj){
                let _this = this
                this.episodesAjax = window.vodlix.api.get(`/season/data?series_id=${this.series.series_id}&season_id=${obj}&page=${this.page}&paginate=1`);

let episodesPromise = this.episodesAjax.then(res=>{
//console.log( 'res s',res )
if(this.page === 1) {
this.episodes = res.data.data
}
else {
this.episodes.push(...res.data.data)
}

this.page = res.data.current_page
this.lastPage = res.data.last_page

if (  this.episodes.length <= 0 )
this.comingSoonMessage = true
else
this.comingSoonMessage = false
}).then(()=>{
                    this.getContinueWatch()
                })
                .catch(err=>{
//console.log('err ', err)
}).always(always=>{
                    _this.episodesAjax = {}
                });
},
            getContinueWatch(){
                let _this = this
                this.continueWatchAjax = window.vodlix.api.get(`/v2/continueWatchTime?series_id=${this.series.series_id}`);

                let continueWatchPromise = this.continueWatchAjax.then(res=>{
                    if (res.data && Array.isArray(res.data) && res.data.length > 0 && res.data[0].watched_episodes) {
                        this.episodes = this.episodes.map(episode => {
                            const watchData = res.data[0].watched_episodes.find(item => item.videoid === episode.videoid);
                            if (watchData) {
                                return {
                                    ...episode,
                                    last_watch_time: watchData.last_watch_time,
                                    last_watch_time_percentage: watchData.last_watch_time_percentage
                                };
                            }
                            return episode;
                        });
                    }

                }).catch(err=>{
                    console.log('err', err);
                });
            },
getRelatedSeries(){
                let _this = this

                var apiURL = `/related/content/${this.series.series_id}/2`;

                this.relatedAjax = window.vodlix.api.get(apiURL);
let relatedPromise = this.relatedAjax.then(res=>{
//console.log( 'res dsf',res.series.related_series )
this.$set(this, 'relatedSeries', res.data)
if ( this.relatedSeries.length == 0 && this.series.categories[0] !== null && this.series.categories[0] !== undefined ){
let seriesCategories = this.series.categories[0].category_id;
window.vodlix.api.get(`/series/list/?categories=${seriesCategories}&exclude_video=${this.series.series_id}`).then(res=>{
//console.log('dasd', res )
this.$set(this, 'relatedSeries', res.series.category_series[seriesCategories] )
}).catch(err=>{
//console.log('err', err)
})
}
}).catch(err=>{
//console.log('err', err)
}).always(always=>{
                    _this.relatedAjax = {}
                });
},
loadMoreEpisode(){
if ( this.page < this.lastPage ){
this.page++
this.getSeasonList( true );
}
},
            getMobileDevice(){
let isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
if ( window.innerWidth < 767 || isMobile )
this.isMobile = true
else
this.isMobile = false
},
            getFirstSeasonEpisodes(series, resumeTime){
                //console.log( 'series', series )
                let data ={
                    'data': {
                        'series_id':series.series_id
                    }
                }
                window.vodlix.api.get(`/series/firstdata`,data).then(res => {
                    let firstEdpisodeId = res.data.episode.videoid
                    let firstSeasonId = res.data.episode.season_id
                    let watch_url = res.data.episode.watch_url
                    if ( resumeTime == true )
                        window.location.href = `https://zixzorash.vodlix.cloud${watch_url}?type=series&series_id=${series.series_id}&season_id=${series.last_watch_episode_id}&last_watch_time=${series.last_watch_time}`
                    else
                        window.location.href = `https://zixzorash.vodlix.cloud${watch_url}?type=series&series_id=${series.series_id}&season_id=${firstSeasonId}`
                }).catch(err => {
                    console.log('err', err)
                })
            },
            playContinueWatchEpisode(series){
                window.location.href = `https://zixzorash.vodlix.cloud/watch/${series.videoid}?type=series&series_id=${series.series_id}&season_id=${series.season_id}&last_watch_time=${series.last_watch_time}`
            },
            trailerVideo(){
                window.vodlix.api.post(`/v2/videos/${this.series.trailer.trailer_id}/playable`).then(res=>{
    //console.log('res',res )
this.$set(this, 'trailer', res.data[0] )
                    this.$set(this, 'emebedTrailer', res.data[0].content.embed_code )
}).catch(err=>{
console.log('err', err)
})
            },
            init( refs, options ){
                this.$nextTick(() => {
                    this.vplayer = BeeExPlayer(refs, options);
                    const modalBox_trailer_muted = '0';
                    if( modalBox_trailer_muted == 0 || modalBox_trailer_muted == '0' ) {
                        this.vplayer.muted(false);
                        if( this.vplayer.muted() == false ) {
                            this.playerMute = true
                            $(".iframePlayPauseSeries").addClass("active");
                        } else {
                            this.playerMute = false
                            $(".iframePlayPauseSeries").removeClass("active");
                        }
                    }
                })
            }
},
        beforeDestroy() {
            if ( this.vplayer)
                this.vplayer.dispose();
        },
        mounted(){
let _this = this
            $('.seriesDetailModal').on('shown.bs.modal', function (event) {
                if ( _this.series.trailer != undefined)
                    _this.trailerVideo();
_this.getArtists()
_this.getSeasonList()
_this.getRelatedSeries();
                $("body").tooltip({ selector: '[data-toggle=tooltip]' });
})
$('.seriesDetailModal').on('hidden.bs.modal', function (event) {
                _this.page = 1;
                _this.selectedSeasonId = ''
                
                if ( !_.isEmpty(_this.artistsAjax) )
                    _this.artistsAjax.abort();
                if ( !_.isEmpty(_this.relatedAjax) )
                    _this.relatedAjax.abort();
                if ( !_.isEmpty(_this.seasonsAjax) )
                    _this.seasonsAjax.abort();
                if (!_.isEmpty(_this.episodesAjax))
                    _this.episodesAjax.abort();
                _this.artistsArr = []
_this.relatedSeries = []
_this.episodes = []
_this.seasons = []
                _this.trailer = {},
                _this.emebedTrailer = ''
                _this.vplayer = {}
                _this.playerMute = false
                if ( !_.isEmpty(_this.vplayer) && _this.vplayer)
                    _this.vplayer.muted(true)
                $('.detailsThumb').find('iframe').remove();
                $('.iframePlayPause').remove('active');
                $('body').removeClass('modal-open');
                $('.modal-backdrop').remove();
})
            if ( this.modal != true  ){
                this.getArtists()
                this.getSeasonList()
                this.getRelatedSeries()
                if ( this.series.trailer != undefined)
                    this.trailerVideo();
            }
$(document).ready(function(){
var clipboard = new Clipboard('.copyButton');
clipboard.on('success', function(e) {
    console.log(e);
    window.vodlix.success.toast({
html: `Copied`
                    });
});
clipboard.on('error', function(e) {
    console.log(e);
});

                $(document.body).on('click', '.iframePlayPauseSeries' ,function(){
                    
                    $(this).toggleClass('active')

                    if ( $(this).hasClass('active') ){
                        _this.vplayer.muted(false)
                        _this.playerMute = true
                    }
                    else{
                        _this.vplayer.muted(true)
                        _this.playerMute = false
                    }

                });

});

            this.getMobileDevice()
window.addEventListener("resize", this.getMobileDevice );
            
},
        watch: {
            trailer: function (newValue, oldValue) {
                this.init(this.$refs.seriesPlayer, this.playerConfigurations);
            }
        },
    })

</script>
<script type="text/javascript">
    var _likeVideo = `
    <div class="d-flex">
            <button 
                type="button" 
                class="boxBtn rounded-circle mr-1"
                :class="extraClasses"
                @click="likeVideo"
                :disabled="btnDisable"
          data-toggle="tooltip" data-placement="top" :title="likeToolTipText"
            >
                <i 
                    class="mdi"
                    :class="rated"
                ></i>
            </button>
            <button 
                v-if="hidedislike"
                type="button" 
                class="boxBtn rounded-circle mr-1"
                :class="extraClasses"
                @click="dislikeVideo"
                :disabled="btnDisable"
                data-toggle="tooltip" data-placement="top" :title="dislikeToolTipText"
            >
                <i 
                    class="mdi"
                    :class="unRated"
                ></i>
            </button>
            </div>
      
`;
    Vue.component('likeVideo', {
        template: _likeVideo,
        data: function () {
            return {
                btnDisable: false,
                like: '',
                dislike: '',
                likeStatus: 'like',
                videoRated: this.video.rate
            }
        },
        props: {
            video: {
                type: Object
            },
            extraClasses: {
                type: String
            },
            type: {
                type: Number,
                default: 1
            },
            hidedislike: {
                type: Boolean,
                default: false
            }
        },
        computed: {
            rated() {
                if (this.videoRated == 1)
                    return 'mdi-thumb-up'
                else
                    return 'mdi-thumb-up-outline'
            },
            unRated() {
                if (this.videoRated == -1)
                    return 'mdi-thumb-down'
                else
                    return 'mdi-thumb-down-outline'
            },
            
            dislikeToolTipText() {
                if (this.videoRated == -1)
                    return `Rated`
                else
                    return `Not For Me`
            },
            checkIds() {
                if (this.type == 1)
                    return this.video.videoid
                else
                    return this.video.series_id
            }
        },
        methods: {
            likeVideo() {
                let isLogin = ``
                if (!isLogin) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }

                let obj = {
                    'content_type': this.type, // 1= movie 2 = series
                    'content_id': this.checkIds, //could be videoid and series
                    'rate': 1  // for like 1,  -1 for dislike, 0 for neutral
                }
                let data = {
                    'data': obj
                }
                this.btnDisable = true
                window.vodlix.api.post('/v2/rate', data).then(res => {
                    //console.log('res', res )
                    if (res.data.upvotes != 0)
                        this.videoRated = 1
                    else
                        this.videoRated = 0

                    this.btnDisable = false
                    console.log(this.videoRated);
                    $('[data-toggle=tooltip]').tooltip('dispose')
                }).catch(err => {
                    console.log(err)
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                    window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                })
            },
            dislikeVideo() {
                let isLogin = ``
                if (!isLogin) {
                    $('.videoDetailModal').modal('hide')
                    $('.seriesDetailModal').modal('hide')
                    $('.loginModalHolder').modal('show')
                    return false;
                }
                let obj = {
                    'content_type': this.type, // 1= movie 2 = series
                    'content_id': this.checkIds, //could be videoid and series
                    'rate': -1  // for like 1,  -1 for dislike, 0 for neutral
                }
                let data = {
                    'data': obj
                }
                this.btnDisable = true
                window.vodlix.api.post('/v2/rate', data).then(res => {
                    //console.log('res', res )
                    if (res.data.downvotes != 0)
                        this.videoRated = -1
                    else
                        this.videoRated = 0
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                }).catch(err => {
                    console.log(err)
                    this.btnDisable = false
                    $('[data-toggle=tooltip]').tooltip('dispose')
                    window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
                })
            },
        },
        mounted() {
            $(document).ready(function () {
                $("body").tooltip({ selector: '[data-toggle=tooltip]' });
            })
        }
    })
</script><script type="text/javascript">
var _template = `
<p class="mb-1" v-if="list && list.length > 0">
<span class="text-secondary">Categories: </span>
<span v-for="(cate,index) in list" :key="index">
<a
:href="link(cate.category_id)"
class="hoverUnderLineText caption2 whiteColor"
>{{ cate.category_name }}</a><template v-if="index < list.length - 1">, </template>
</span>
</p>
`
Vue.component('categories',{
template:_template,
data:function(){
return {

}
},
props:{
categories:{
type:Array
},
paths:{
type:String,
default:'movies'
}
},
computed:{
link(){
return (id) => {
return `/${this.paths}/category/${id}`
}
},
list() {
if(this.categories === undefined || this.categories === null) {
return [];
}
return this.categories.filter((cat) => {
return cat !== null && cat !== undefined
});
}
}
})
</script><script type="text/javascript">
var artistsTemplate = `
<div class="" v-if="artists && artists.length > 0">
<p class="mb-1" v-for="(role,index) in artists" :key="index">
<span class="text-secondary">{{ role.role_name }}: </span>
<template v-if="showTotalList!='all'">
                    <span v-for="(artist,_index) in role.artists" :key="_index" class="caption2" v-if="artist.first_name != null && showTotalArtists && _index <= showTotalArtists">
                        <a
                            :href="link(artist.artist_id)"
                            class="hoverUnderLineText caption2 whiteColor"
                        >{{ fullname(artist) }}</a><template v-if="_index < showTotalArtists  - 1 && _index < role.artists.length - 1">, </template>
                    </span>
                </template>
                <template v-else>
                    <span v-for="(artist,_index) in role.artists" :key="_index" class="caption2" v-if="artist.first_name != null">
                        <a
                            :href="link(artist.artist_id)"
                            class="hoverUnderLineText caption2 whiteColor"
                        >{{ fullname(artist) }}</a><template v-if="_index < role.artists.length  - 1">, </template>
                    </span>
                </template>
</p>
</div>
`
Vue.component('artists',{
template:artistsTemplate,
data:function(){
return {

}
},
props:{
artists:{
type:Array
},
types:{
type:String
},
            showTotalArtists:{
type:Number
}
},
computed:{
showTotalList(){
                if(this.showTotalArtists){
                   return  this.showTotalArtists
                }else{
                    return 'all'
                }
            },
            roleName(){
return ( name ) =>{
console.log(name)
return `name`
}
},
fullname(){
return (val) => {
if ( val.last_name !=  undefined && val.last_name != null && val.last_name != '' )
return `${val.first_name} ${val.last_name}`
else
return `${val.first_name}`
}
},
link(){
return (id) => {
return `/person/${id}?content_type=${this.types}`
}
},
}
})
</script><script type="text/javascript">
var _relatedVideo = `
<div class="no-border fill-height"
:class="{'listMenu':list, 'cardBg': !list, 'fill-height': !list }"
:style="bgColor"
@mouseenter="hover = true"
@mouseleave="hover = false"
>
<a :href="uri" class="relative mb-3 img d-block">
<div class="ratio ratio-16x9 progressBar">
<div class="relative">
                        <div class="playBtn" v-if="hover">
                            <button type="button" class="btn btn-outline-primary text-primary rounded-circle btn-sm mr-1">
                                <i class="mdi mdi-play iconize"></i>
                            </button>
                        </div>
<img 
:src="(hover && video.gif != null) ? video.gif : video.thumbs['768x432'] || video.thumbs['original']"
class="imgFull"
:alt="video.title"
>
                        <template v-if="list && video.last_watch_time_percentage">
                            <div class="progress" style="height: 3px; position: absolute; bottom: 0; width: 100%;">
                                <div 
                                    class="progress-bar bg-danger" 
                                    role="progressbar" 
                                    :style="percantageWidth(video.last_watch_time_percentage)" 
                                    aria-valuenow="25" 
                                    aria-valuemin="0" 
                                    aria-valuemax="100"
                                ></div>
                            </div>
                        </template>
</div>
</div>
<div class="card-img-overlay p-1">
<div class="text-right" v-if="!list">
                        <template v-if="video.content_type != 4">
<span class="mr-2 whiteColor">{{ video.duration }}</span>
                        </template>
                        <template v-else-if="video.content_type == 4">
                            <span class="mr-2 badge badge-danger p-2">LIVE</span>
                        </template>
</div>
</div> 
</a>
<div class="" :class="{'px-2': !list,'py-0': list, 'py-2': list, 'pl-2 fullWidth d-flex flex-column': list  }">
<template v-if="list">
<div class="ma-0 d-flex align-items-center justify-content-between mb-2 pr-4">
                        <a :href="uri" class="whiteColor text-decoration-none line-clamp-title">
                            <h2 
                                v-html="video.title" 
                                class="h6 font-weight-medium mb-0"
                            ></h2>
                        </a>
<span v-if="list" class="font-weight-medium body-2">{{ video.duration }}</span>
</div>
</template>
<template v-else>
<div class="ma-0" justify="space-between">
                        <a :href="uri" class="whiteColor text-decoration-none line-clamp-title">
                            <h2 
                                v-html="video.title" 
                                class="h6 font-weight-medium mb-2"
                                data-toggle="tooltip" data-placement="top" v-bind:title="video.title"
                            ></h2>
                        </a>
</div>
</template>
<template v-if="!list">
<p class="">
<span class="badge badge-secondary text-capitalize mr-2 px-2" style="line-height: normal">
 {{ maturityText(video.maturity_level) }}
</span>
<span class="mr-2">
{{ displayDate(video.date_added) }}
</span>
</p>
</template>
                <a :href="uri" class="whiteColor text-decoration-none">
                    <p v-html="video.description" class="vid-description mb-2 text-white-50" 
                        :class="{ 'line-clamp': !list, 'line-clamp2': list }"
                    ></p>
                </a>
</div>
</div>
`
Vue.component('videoRelated', {
template: _relatedVideo,
data: function(){
return {
hover:false,
}
},
props:{
video:{
type:Object
},
list:{
type:Boolean,
default:false
}
},
computed:{
maturityText(){
return ( text ) => {
let value = text.replace('_plus','+')
return value
}
},
            uri(){
                if ( this.list )
return `/watch/${this.video.videoid}?type=series&series_id=${this.video.series_id}&season_id=${this.video.season_id}`
else
                    return `/movies/${this.video.videoid}`
//return `/watch/${this.video.videoid}`
},
bgColor(list){
return ( list ) => {
return list ? { 'background-color':  '#2f2f2f !important' } : {}
}
},
},
        methods:{
            displayDate(date) {
                if (date && !Number.isInteger(date)) {
                    date = Date.parse(date);
                }

                const displayDateFormat = 'd F Y';

                if (displayDateFormat) {
                    return this.formatDateCustom(date, displayDateFormat);
                }

                return this.formatDateCustom(date, "Y-m-d");
            },
            formatDateCustom(date, format) {
                const d = new Date(date);
                const year = d.getFullYear();
                const month = String(d.getMonth() + 1).padStart(2, "0");
                const day = String(d.getDate()).padStart(2, "0");

                return format.replace("Y", year).replace("m", month).replace("d", day);
            },
            percantageWidth(percentage) {
                return { width: `${percentage}%` };
            }
        },
mounted(){
//console.log('video dd', this.video )
$(document).ready(function(){
                $(".vid-description").hover(
                    function(){ $(this).removeClass('line-clamp2') },
                    function(){ $(this).addClass('line-clamp2') }
                );
$("body").tooltip({ selector: '[data-toggle=tooltip]' });
})
}
})
</script><script type="text/javascript">
var _relatedSeries = `
<div class="no-border fill-height"
:class="{'listMenu':list, 'cardBg': !list, 'fill-height': !list }"
:style="bgColor"
@mouseenter="hover = true"
@mouseleave="hover = false"
v-if="series"
>
<a :href="uri" class="relative mb-3 img d-block">
<div class="ratio ratio-16x9">
<div>
<img 
:src="seriesThumb"
alt=""
class="imgFull"
:alt="series.series_name"
/>
</div>
</div>
<div class="card-img-overlay p-1">
<p class="text-right">
<span class="mr-2 whiteColor" v-if="series.season_count == 1 || series.season_count == 0">
Season {{ series.season_count }}
</span>
<span class="mr-2 whiteColor" v-else>
Seasons {{ series.season_count }}
</span>
</p>
<div class="playBtn" v-if="hover">
<button 
type="button" class="btn btn-outline-primary text-primary rounded-circle btn-sm mr-1"
>
<i class="mdi mdi-play iconize"></i>
</button>
</div>
</div> 
</a>
<div class="px-3 pb-3">
<div class="ma-0" justify="space-between">
                    <a :href="uri" class="whiteColor text-decoration-none">
                        <h2 
                            v-html="series.series_name" 
                            class="h6 font-weight-medium mb-2 line-clamp2"
                            data-toggle="tooltip" data-placement="top" v-bind:title="series.series_name"
                        ></h2>
                    </a>
</div>
<p class="">
<span class="badge badge-secondary text-capitalize mr-2 px-2" style="line-height: normal">
 {{ maturityText(series.maturity_level) }}
</span>
<span class="mr-2">
{{ series.year }}
</span>
</p>
                <a :href="uri" class="whiteColor text-decoration-none">
                    <p v-html="series.series_description" class="mb-2 text-white-50" 
                        :class="{ 'line-clamp': !list, 'line-clamp2': list }"
                    ></p>
                </a>
</div>
</div>
`
Vue.component('seriesRelated', {
template: _relatedSeries,
data: function(){
return {
hover:false,
}
},
props:{
series:{
type:Object
},
list:{
type:Boolean,
default:false
}
},
computed:{
maturityText(){
return ( text ) => {
return getFormattedMaturityLevel(text);
}
},
bgColor(list){
return ( list ) => {
return list ? { 'background-color':  '#2f2f2f !important' } : {}
}
},
seriesThumb() {
                return this.series.thumbs["632x395"] || this.series.thumbs["416x260"] || this.series.thumb;
            },
            uri(){
                return `/tv-shows/${this.series.series_id}`
                //return `/watch/${this.series.first_episode_id}?type=series&series_id=${this.series.series_id}&season_id=${this.series.first_season_id}`
            },
},
methods:{
minMaxOfArrayOfObjects(arr,sortBy){
if(!arr || arr.length==0){
return false
}else{
let min = arr[0][sortBy], max = arr[0][sortBy];
for (let i = 1, len=arr.length; i < len; i++) {
    let v = arr[i][sortBy];
    min = (v < min) ? v : min;
    max = (v > max) ? v : max;
}
return {'min': min, 'max':max};
}
},
takeMeToWatch(){
let seasons = this.series.seasons
let firstSeason = seasons.filter((season) => season.sequence == 1)
firstSeason = firstSeason[0]
let minMaxOfEpisodes = this.minMaxOfArrayOfObjects(firstSeason.episodes,'videoid')
let episode_id = minMaxOfEpisodes.min
if(!minMaxOfEpisodes){
window.vodlix.error.toast({
text: `No episodes added in this series's seasons`
})
}
else
this.$router.push(`/watch/${episode_id}?type=series&series_id=${this.series.series_id}&season_id=${firstSeason.season_id}`)
    }
},
mounted(){
//console.log('video dd', this.video )
$(document).ready(function(){
$("body").tooltip({ selector: '[data-toggle=tooltip]' });
})
}
})
</script><script type="text/javascript">
    var _countDown = `
        <div class="countdown fullWidth d-flex justify-content-center">
            <div class="mr-3 text-center">
                <p class="h1 font-weight-lighter">{{ days | two_digits }}</p>
                <p class="h6 font-weight-lighter text-primary">Days</p>
            </div>
            <div class="mr-3 text-center">
                <p class="h1 font-weight-lighter">{{ hours | two_digits }}</p>
                <p class="h6 font-weight-lighter text-primary">Hours</p>
            </div>
            <div class="mr-3 text-center">
                <p class="h1 font-weight-lighter">{{ minutes | two_digits }}</p>
                <p class="h6 font-weight-lighter text-primary">Minutes</p>
            </div>
            <div class="mr-3 text-center">
                <p class="h1 font-weight-lighter">{{ seconds | two_digits }}</p>
                <p class="h6 font-weight-lighter text-primary">Seconds</p>
            </div>
        </div>
    `;
    Vue.filter('two_digits', (value) => {
        if (value < 0) {
            return '00';
        }
        if (value.toString().length <= 1) {
            return `0${value}`;
        }
        return value;
    });
    Vue.component('countdown',{
template:_countDown,
data:function(){
return {

}
},
mounted() {
            window.setInterval(() => {
                this.now = Math.trunc((new Date()).getTime() / 1000);
            },1000);
        },
        props: {
            date: {
                type: String
            }
        },
        data() {
            return {
                now: Math.trunc((new Date()).getTime() / 1000)
            }
        },
        computed: {
            dateInMilliseconds() {
                return Math.trunc(Date.parse(this.date) / 1000)
            },
            seconds() {
                return (this.dateInMilliseconds - this.now) % 60;
            },
            minutes() {
                return Math.trunc((this.dateInMilliseconds - this.now) / 60) % 60;
            },
            hours() {
                return Math.trunc((this.dateInMilliseconds - this.now) / 60 / 60) % 24;
            },
            days() {
                return Math.trunc((this.dateInMilliseconds - this.now) / 60 / 60 / 24);
            }
        }
})
</script>
                
                <div class="clearfix" id="watchVideo">
                    <div class="d-flex align-items-center py-3">
                        <h1 class="mr-4 h6 font-weight-lighter mb-0" v-html="video.title">
                        </h1>
                        <div class="d-flex">
                                                        <template v-if="video.allow_rating == 'yes'">
                                <add-to-favourites
                                    :video="video"
                                ></add-to-favourites>
                            </template>
                            <like-video
                                :hidedislike="true"
                                :video="video"></like-video>                                                      
                        </div>
                    </div>
                </div>               
            </div>

        <script type="text/javascript">
const _comments = `
<div class="">
<div class="">
        <h2 class="h5 font-weight-medium flex-row mb-3">{{ totalComments }} {{ commentPhrase }}</h2>
        </div>
        <template v-if='isLoggedIn && video.allow_comments == "yes"'>
        <addComment
        @addedComment="pushedComment"
        :video="video"
        ></addComment>
        </template>
        <div class="commentsHolder d-flex justify-start flex-column">
<template v-if="comments.length > 0">
<commentBlock 
v-for="comment in comments"
:key="comment.comment_id" 
:comment="comment"
:video="video"
:replyBtn="true"
>
<template v-slot:replies>
<commentBlock 
v-for="reply in comment.replies"
:key="reply.comment_id" 
:comment="reply"
:video="video"
:replyBtn="false"
></commentBlock>
</template>
</commentBlock>
</template>
</div>
    </div>    
`;
Vue.component('comments',{
template:_comments,
data:function(){
return{
comments:[],
summary:true,
page:1,
busy:false,
                commentsCount: 0,
                isLoggedIn:``,
}
},
props:{
video:{
type:Object
}
},
computed:{
totalComments() {
                return new Intl.NumberFormat().format(this.commentsCount || 0);
            },
            commentPhrase() {
                return this.video.comments_count == "1" ? "Comment" : "Comments";
            }
},
methods:{
getComments(){
let obj = {
'content_id': this.video.videoid,
'content_type': "1",
'page':this.page,
}

                this.$set(this, "busy", true);

window.vodlix.api.get(`/v2/comments?content_id=${this.video.videoid}&content_type=1&page=${this.page}`).then(res=> {
//console.log( 'sdsa', res.data )
this.comments.push(...res.data );
                    this.$set(this, "busy", false);
}).catch(err => {
console.log('err', err )
})
},
pushedComment(val){
this.comments.unshift(val)
                this.$set(this, "commentsCount", this.commentsCount + 1);
},
loadMore(){
this.page++
this.getComments();
}
},
mounted(){

//console.log( 'comment', this.comments )
if (this.video.comments_count > 0) {
this.getComments();
            }
this.$set(this, "commentsCount", this.video.comments_count);
}
})
</script>
<script type="text/javascript">
const _addComment = `
<div class="addComment d-flex justify-start mb-3">
<template v-if="currentProfile">
        <div class="commentAvatar mr-3">
<avatar :profile="currentProfile" :size="40" ></avatar>
</div>
</template>
<div class="flex-grow-1">
<div class="mb-1">
<textarea 
v-model="textareaValue"
class="form-control mb-1" 
rows="2"
@input="commentRule"
></textarea>
<div class="text-danger messageDiv">
                        {{ msg.textareaValue }}
                    </div> 
</div>
<div class="text-right">
<button 
type="button" 
class="btn btn-primary btn-sm no-shadow" 
:disabled="btnDisabled"
@click="addComment"
>{{ btnText }}</button>
</div>
</div>
        </div>
`;
Vue.component('addComment',{
template:_addComment,
data:function(){
return{
currentProfile:null,
textareaValue:'',
btnDisabled:false,
msg:[]
}
},
props:{
comment:{
type:Object
},
video:{
type:Object
},
reply:{
type:Boolean,
deafult:false
}
},
computed:{
btnText(){
return this.reply ? `Reply` : `Post`
}
},
methods:{
commentRule(val){
//console.log('val ds', val)
if ( this.textareaValue.length >= 1 )
this.msg['textareaValue'] = `Comment must contain atleast 2 characters`
if ( this.textareaValue.length >= 2 )
this.msg['textareaValue'] = ''
},
addComment(){
let obj = {
"content_id": this.video.videoid,
"content_type": "1",
"body": this.textareaValue
}

if ( this.reply )
obj['parent_id'] = this.comment.comment_id

let data = {
'data':obj
}

this.btnDisabled = true
window.vodlix.api.post('/v2/comments', data ).then(res=> {
console.log('add ', res )
this.$emit('addedComment', res.data)
this.btnDisabled = false
}).catch(err => {
this.btnDisabled = false
window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
})
},
},
mounted(){
//console.log(this.currentProfile)
}
})
</script>
<script type="text/javascript">
Vue.component('avatar', {
data:function() {
        return {
            shouldShowIcon: false
        }
    },
    computed: {
        hasAvatarUrl() {
            return this.profile !== undefined && this.profile.avatar !== "";
        },
        avatarUrl() {
            return this.hasAvatarUrl ? this.profile.avatar : "";
        },
        showIcon() {
            return this.avatarUrl === "" || this.shouldShowIcon
        },
            profileIcon() {
                return 'https://zixzorash.vodlix.cloud' + '/images/avatars/no-avatar-profile.png'
            }
    },
    props: {
        profile: {
            type: Object,
            required: true,
        },
        size: {
            type: Number,
            required: false,
            default: 30
        },
        image: {
            type: Boolean,
            required: false,
            default() {
                return false;
            }
        },
        imageSize: {
            type: Number,
            required: false
        },
        iconSize: {
            type: Number,
            required: false
        }
    },
    watch: {
        avatarUrl(newValue, oldValue) {
            if(newValue) {
                this.shouldShowIcon = false;
            }
        }
    },
    template:
`<div style="max-width: 100%; max-height: 100%;">
        <template v-if="avatarUrl !== '' && !showIcon">
            <template v-if="image">
                <img 
                class="rounded imgFull" 
                :src="avatarUrl" 
                :width="imageSize" 
                :height="imageSize" 
                @error="shouldShowIcon = true"
                            alt="Profile Avatar" 
                />
            </template>
            <template v-else>
                <div class :size="size">
                    <img 
                    :src="avatarUrl" 
                    :width="size" 
                    :height="size" 
                    @error="shouldShowIcon = true" 
                                alt="Profile Avatar" 
                    />
                </div>
            </template>
        </template>
        <template v-else-if="avatarUrl === '' || showIcon">
                    <div class :size="size">
                        <img 
                            :src="profileIcon" 
                            :width="iconSize" 
                            @error="shouldShowIcon = true" 
                            alt="Profile Avatar" 
                        />
                    </div>
        </template>
    </div>`
,
})
</script><script type="text/javascript">
const _comment = `
<div class="comments d-flex justify-start">
<div class="commentAvatar mr-3">
<avatar :profile="comment" :size="40"></avatar>
</div>
<div class="flex-grow-1">
<p class="body-2 mb-0">
{{ comment.name }}
<span class="caption ml-2">{{ displayDate(comment.date_added) }}</span>
</p>
<!-- <p class="d-none">{{ checkCharacter(comment.body) }}</p> -->
<p class="mb-2">
<template v-if="summary">
<span 
v-html="truncatedText(comment.body)" 
class=""
ref="commentText"></span>
</template>
<template v-else>
<span 
v-html="comment.body" 
class=""
ref="commentText"></span>
</template>
<template v-if="comment.body.length > 250">
<button 
type="button" 
class="btn btn-link px-0 text-decoration-none whiteColor no-shadow mr-3"
@click="summary = !summary"
>
{{ moreLessText }}
</button>
</template>
</p>
<div class="mb-2">
<template v-if="allowRating == ''">
<button 
type="button" 
class="btn btn-link px-0 text-decoration-none whiteColor no-shadow mr-3" 
:disabled="likeBtn"
@click="likeComment"
>
<i class="mr-2 mdi mdi-thumb-up"></i>
{{ like }}
</button>
<button 
type="button" 
class="btn btn-link px-0 text-decoration-none whiteColor no-shadow mr-3" 
:disabled="dislikeBtn"
@click="dislikeComment"
>
<i class="mr-2 mdi mdi-thumb-down"></i>
{{ dislike }}
</button>
</template>
<template v-if="isReply">
<button 
type="button" 
class="btn btn-link px-0 text-decoration-none whiteColor no-shadow" 
@click="showReplyBlock"
>
{{ repiles }} {{ replyCount }}
</button>
</template>
</div>
<hr class="mb-3 mt-0" />
<div class="" v-show="showReplyBox">
<addComment 
:comment="comment"
@addedComment="pushReply"
:video="video"
:reply="true"
/>
</div>
<template v-if="hasReplies">
<div class="" v-if="comment.replies != undefined && comment.replies.length > 0">
<div class="">
<button 
type="button" 
class="btn btn-link p-0 mb-2 text-decoration-none whiteColor btn-sm no-shadow" 
@click="showReplies = !showReplies"
>
{{ showRepliesText }}
<i class="mdi iconzie" :class="arrowIcon"></i>
</button>
</div>
</div>
<div class="" v-show="showReplies">
<slot name="replies"></slot>
</div>
</template>
</div>
</div>
`;
Vue.component('commentBlock',{
template: _comment,
data:function(){
return {
allowRating:``,
isLoggedIn:``,
summary:true,
showReplyBox:false,
likeBtn:false,
dislikeBtn:false,
like:this.comment.upvotes,
dislike:this.comment.downvotes,
repiles:`Replies`,
replyCount:'',
replyArray:[],
showReplies:false,
showMoreBtn:true
}
},
props:{
comment:{
type:Object
},
video:{
type:Object
},
replyBtn:{
type:Boolean,
default:true
}
},
filters: {
truncate: function (text, length, suffix) {
if ( text.length > length )
return text.substring(0, length) + suffix;
else
return text.substring(0, length)
},
},
computed:{
currentProfile(){
return this.$store.state.logged.currentProfile
},
dateFormat(){
return (val) => {
return dayjs(val).format('MMMM D, YYYY h:mm A')
}
},
moreLessText(){
return this.summary ? `Show More` : `Show Less`
},
truncatedText(){
return ( val ) => {
return this.$options.filters.truncate(val, 250, ' ...')
}
},
            totalComments() {
                return new Intl.NumberFormat().format(this.commentsCount || 0);
            },
            hasReplies() {
                return this.comment.replies !== undefined && this.comment.replies.length > 0;
            },
            isReply() {
                return this.replyBtn;
            },
            rated(){
            if ( this.comment.rated == 1 || this.like == 1)
            return 'primary'
            else
            return ''
            },
            unRated(){
            if ( this.comment.rated == -1 || this.dislike == 1 )
            return 'primary'
            else
            return ''
            },
            showRepliesText(){
            return this.showReplies ? `Hide Replies` : `Show Replies`
            },
            arrowIcon(){
            return this.showReplies ? 'mdi-chevron-down' : 'mdi-chevron-up'
            }
},
methods:{
            displayDate(date) {
                if (date && !Number.isInteger(date)) {
                    date = Date.parse(date);
                }

                const displayDateFormat = 'd F Y';

                if (displayDateFormat) {
                    return this.formatDateCustom(date, displayDateFormat);
                }

                return this.formatDateCustom(date, "Y-m-d");
            },
            formatDateCustom(date, format) {
                const d = new Date(date);
                const year = d.getFullYear();
                const month = String(d.getMonth() + 1).padStart(2, "0");
                const day = String(d.getDate()).padStart(2, "0");

                return format.replace("Y", year).replace("m", month).replace("d", day);
            },
showReplyBlock(){
if (!this.isLoggedIn ){
window.location.href = '/login'
    return
}
this.showReplyBox = !this.showReplyBox
},
pushReply(reply){
if ( this.comment.replies === undefined ){
this.$set(this.comment, 'replies', [reply]);
this.$set(this, 'replyCount', 1);
}
else{
this.comment.replies.unshift(reply)
this.replyCount++
}
this.showReplyBox = false
},
likeComment(){
if (!this.isLoggedIn ){
    window.location.href = '/login'
    return
}
let obj = {
'content_type': 7,
'content_id': this.comment.comment_id,
'rate': 1
}

let data ={
'data': obj
}
this.likeLoader = true
this.likeBtn = true
window.vodlix.api.post('/v2/rate', data).then(res=> {
//console.log('res', res)
this.likeBtn = false
this.like = res.data.upvotes
this.dislike = res.data.downvotes
}).catch(err => {
console.log('err', err.response.data.message )
this.likeLoader = false
this.likeBtn = false
window.vodlix.error.toast({
                        text: err.responseJSON.errors.error[0]
                    })
})
},
dislikeComment(){
if (!this.isLoggedIn ){
    window.location.href = '/login'
    return
}
let obj = {
'content_type': 7,
'content_id': this.comment.comment_id,
'rate': -1
}
let data ={
'data': obj
}
this.dislikeBtn = true
this.dislikeLoader = true

window.vodlix.api.post('/v2/rate', data).then(res=> {
//console.log('res', res)
this.dislikeBtn = false
this.dislikeLoader = false
this.dislike = res.data.downvotes
this.like = res.data.upvotes
}).catch(err => {
console.log('err', err.response.data.message )
this.dislikeBtn = false
this.dislikeLoader = false
let errorMsg = err.response.data.message
window.vodlix.error.toast({
                        text: errorMsg
                    })

})
},
moreRepiles(){
if ( this.comment.replies != undefined ){
//console.log('this.replyArray ', this.replyArray )
this.comment.replies.push(...this.replyArray)
}
this.showMoreBtn = false
}
},
mounted(){
if ( this.comment.replies === undefined ) {
this.$set(this, 'replyCount', '');
}else{
this.$set(this, 'replyCount', this.comment.replies.length);
}
        }
})
</script>    
            
<footer id="footer" class="clearfix footerHolder py-4"> 
<div class="container">
        <div class="clearfix d-flex align-items-center socialIocnsHolder">
<ul class="socialIocns d-flex align-items-center clearfix ps-0 mb-3 pl-0">

</ul>
            <div class="ml-auto">
                                <ul class="socialIocns d-flex align-items-center clearfix ps-0 mb-3 pl-0 ">
                                                                                                </ul>
            </div>
</div>
        
                <div class="row mb-3">
            <div class="col-12 col-lg-4 col-md-4 col-sm-4">
<a href="https://facebook.com" target="_self" class="ftLink text-uppercase">
หน้าหลัก - HOME
</a>
</div>
            </div>
        <div class="ftLink clearfix">
                            &copy; 2025
            </div>
</div>

</footer>    </div>



<script type="text/javascript">
function footerfixedBottom(argument){
var footerHeight = $('#footer').outerHeight();
$('#wrapper').css('padding-bottom', footerHeight+'px');
} 
function handleScroll(event) {
let scrollPos, winHeight, docHeight, perc, el
scrollPos = window.scrollY
winHeight = window.innerHeight
docHeight = document.documentElement.scrollHeight
perc = parseInt((100 * scrollPos) / (docHeight - winHeight))
el = document.getElementsByClassName('appMian')[0]
if (perc > 5) el.classList.add('appHeaderOpt')
if (perc < 5) el.classList.remove('appHeaderOpt')
}
$(document).ready(function(){
footerfixedBottom()
//handleScroll()
$('.dropdown-toggle').dropdown();
$('.searchBtn').click(function(){
let parnet = $(this).parent()
parnet.find('.searchBlock').toggleClass('active')
if ( $('.searchBlock').hasClass('active') )
$(this).addClass('openField')
else   
$(this).removeClass('openField')  
})
$(window).resize(function(){
footerfixedBottom()
})
$(window).scroll(function(){
//handleScroll()
})
});
const watchVideoPage = new Vue({
el:'#watchVideo',
data(){
return {
allowVideoComments:`1`,
video:{"videoid":"119","videokey":"4NW2K3866HGY","video_password":null,"video_users":"","username":"IDOL_CHAMP","userid":"1","partner_id":null,"maturity_level":"18_plus","title":"FSDSS-738 [Reduicing Mosaic]","file_name":"1742368233acjUkWkc9d","file_type":"2","description":"FSDSS-738 [Reduicing Mosaic]\r\n\r\nAfter Losing His Beloved Wife, He Is Overcome With Loneliness And Ends Up Having Sex With His Sister-in-law Many Times... Amatsuka Moe","tags":"fsdss-738,[reduicing,mosaic].mp4","category":"#1# ","category_parents":"","broadcast":"public","location":"TH","datecreated":null,"country":"TH","blocked_countries":"#0# ","allowed_countries":"#0# ","sprite_count":"0","season_id":"0","series_id":"0","sequence":"0","allow_embedding":"","rating":"0","rated_by":"0","voter_ids":"","featured":"yes","featured_order":null,"featured_date":"2025-03-29 12:40:26","featured_description":"","allow_rating":"yes","allow_comments":"yes","comments_count":"0","last_commented":null,"active":"yes","favourite_count":"0","playlist_count":"0","views":"3","last_viewed":"0000-00-00 00:00:00","date_added":"2025-03-19 07:10:33","flagged":"no","duration":"7508","status":"Successful","failed_reason":"none","default_thumb":"3925","aspect_ratio":"","embed_code":"","refer_url":"","downloads":"0","uploader_ip":"184.22.230.15","mass_embed_status":"no","unique_embed_code":"","remote_play_url":"","video_files":"[720,1080]","server_ip":"","file_server_path":"","file_directory":"2025\/03\/19","files_thumbs_path":"","file_thumbs_count":"","has_hq":"no","filegrp_size":"","process_status":"4","video_version":"2.8","extras":"","subscription_email":"pending","thumbs_version":"3.0","re_conv_status":"","conv_progress":"","is_premium":"no","override_default_monetization":"0","credits_required":null,"rental_hours":"0","premium_cid":"0","in_editor_pick":"no","has_subs":"no","total_subs":"0","last_sub_num":"0","live":"","udp_live":null,"force_hls_http_url":null,"start_published_date":null,"end_published_date":null,"has_sprite":"no","version":"1","has_resulotion":"no","aws_service_id":"0","aws_cdn":"","aws_thumb_path":"","license_by":"","is_channeHome":"no","super_feature":"0","is_avod":"1","is_tvod":"0","pre_order":"0","live_status":"0","deleted_at":null,"content_type":"1","is_360":"0","projection_type":"NONE","epg_channel_id":"","drm_protected":"no","epg_url":null,"content_language":"th","dvr_url":null,"dvr_backup_timezone":null,"dvr_backup_duration":"0","dvr_thumbnail":null,"dvr_thumbnail_mp4":null,"epg_dvr_catchup_url":null,"epg_duration":null,"mpaa_rating":"NC-17","content_rating_tags":"[\"nudity\"]","free_to_watch":"1","google_dai_assetkey":"","google_dai_cmsid":"0","google_dai_videoid":"","aniview_ssai_id":"","aniview_channel_id":"","concate_avs_source":"0","aniview_extra_qp":"","iab_categories":"","is_audio":"0","email":"valkyrie@sajikacash.in.th","avatar":"0","sex":"male","avatar_url":"","dob":"1987-07-04","level":"1","usr_status":"Ok","user_session_key":"777750fea4d3bd585bf47dc1873619fc","ban_status":"no","total_photos":"0","profile_hits":"0","total_videos":"39","subscribers":"0","total_subscriptions":"1","is_live":"no","is_verified":"no","opt_in_marketing":"0","is_partner":"0","phone":"886605569","doj":"0000-00-00 00:00:00","user_deleted":null,"is_imported":"0","imported_user_status":"0","assets":[{},{"path":"\/u\/zixzorash\/files\/thumbs\/2025\/03\/19\/1742368233acjUkWkc9d-original-1.jpg","host":"vcz-zixzorash-vodlix-cloud.b-cdn.net"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],"meta_title":null,"meta_desc":null,"rate":0},
isLoggedIn:``,
commentsBlock: false,
baseUrl:`https://zixzorash.vodlix.cloud`
}
},
computed:{
containerPadding(){
      return this.allowVideoComments == '1' ? 'insidePadding' : ''
    }
},
methods:{
commentsBox(refName){
//console.log(refName)
this.commentsBlock = !this.commentsBlock
}
},
mounted(){
$(document).ready(function(){
$("body").tooltip({ selector: '[data-toggle=tooltip]' });
// var clipboard = new Clipboard('.copyButton');
// clipboard.on('success', function(e) {
//     console.log(e);
//     window.vodlix.success.toast({
// html: `Copied`
    //                 });
// });
// clipboard.on('error', function(e) {
//     console.log(e);
// });
})
}
})

</script>
    </body>
</html>
